{"version":3,"sources":["webpack:///webpack/bootstrap a053f859e76cc8441b8c","webpack:///./js/entry.js","webpack:///./~/babel-runtime/core-js/object/keys.js","webpack:///./~/core-js/library/fn/object/keys.js","webpack:///./~/core-js/library/modules/es6.object.keys.js","webpack:///./~/core-js/library/modules/_to-object.js","webpack:///./~/core-js/library/modules/_defined.js","webpack:///./~/core-js/library/modules/_object-keys.js","webpack:///./~/core-js/library/modules/_object-keys-internal.js","webpack:///./~/core-js/library/modules/_has.js","webpack:///./~/core-js/library/modules/_to-iobject.js","webpack:///./~/core-js/library/modules/_iobject.js","webpack:///./~/core-js/library/modules/_cof.js","webpack:///./~/core-js/library/modules/_array-includes.js","webpack:///./~/core-js/library/modules/_to-length.js","webpack:///./~/core-js/library/modules/_to-integer.js","webpack:///./~/core-js/library/modules/_to-index.js","webpack:///./~/core-js/library/modules/_shared-key.js","webpack:///./~/core-js/library/modules/_shared.js","webpack:///./~/core-js/library/modules/_global.js","webpack:///./~/core-js/library/modules/_uid.js","webpack:///./~/core-js/library/modules/_enum-bug-keys.js","webpack:///./~/core-js/library/modules/_object-sap.js","webpack:///./~/core-js/library/modules/_export.js","webpack:///./~/core-js/library/modules/_core.js","webpack:///./~/core-js/library/modules/_ctx.js","webpack:///./~/core-js/library/modules/_a-function.js","webpack:///./~/core-js/library/modules/_hide.js","webpack:///./~/core-js/library/modules/_object-dp.js","webpack:///./~/core-js/library/modules/_an-object.js","webpack:///./~/core-js/library/modules/_is-object.js","webpack:///./~/core-js/library/modules/_ie8-dom-define.js","webpack:///./~/core-js/library/modules/_descriptors.js","webpack:///./~/core-js/library/modules/_fails.js","webpack:///./~/core-js/library/modules/_dom-create.js","webpack:///./~/core-js/library/modules/_to-primitive.js","webpack:///./~/core-js/library/modules/_property-desc.js","webpack:///./~/babel-runtime/helpers/extends.js","webpack:///./~/babel-runtime/core-js/object/assign.js","webpack:///./~/core-js/library/fn/object/assign.js","webpack:///./~/core-js/library/modules/es6.object.assign.js","webpack:///./~/core-js/library/modules/_object-assign.js","webpack:///./~/core-js/library/modules/_object-gops.js","webpack:///./~/core-js/library/modules/_object-pie.js","webpack:///./~/babel-runtime/helpers/slicedToArray.js","webpack:///./~/babel-runtime/core-js/is-iterable.js","webpack:///./~/core-js/library/fn/is-iterable.js","webpack:///./~/core-js/library/modules/web.dom.iterable.js","webpack:///./~/core-js/library/modules/es6.array.iterator.js","webpack:///./~/core-js/library/modules/_add-to-unscopables.js","webpack:///./~/core-js/library/modules/_iter-step.js","webpack:///./~/core-js/library/modules/_iterators.js","webpack:///./~/core-js/library/modules/_iter-define.js","webpack:///./~/core-js/library/modules/_library.js","webpack:///./~/core-js/library/modules/_redefine.js","webpack:///./~/core-js/library/modules/_iter-create.js","webpack:///./~/core-js/library/modules/_object-create.js","webpack:///./~/core-js/library/modules/_object-dps.js","webpack:///./~/core-js/library/modules/_html.js","webpack:///./~/core-js/library/modules/_set-to-string-tag.js","webpack:///./~/core-js/library/modules/_wks.js","webpack:///./~/core-js/library/modules/_object-gpo.js","webpack:///./~/core-js/library/modules/es6.string.iterator.js","webpack:///./~/core-js/library/modules/_string-at.js","webpack:///./~/core-js/library/modules/core.is-iterable.js","webpack:///./~/core-js/library/modules/_classof.js","webpack:///./~/babel-runtime/core-js/get-iterator.js","webpack:///./~/core-js/library/fn/get-iterator.js","webpack:///./~/core-js/library/modules/core.get-iterator.js","webpack:///./~/core-js/library/modules/core.get-iterator-method.js","webpack:///./~/babel-runtime/regenerator/index.js","webpack:///./~/regenerator-runtime/runtime-module.js","webpack:///./~/regenerator-runtime/runtime.js","webpack:///./~/process/browser.js","webpack:///./~/babel-runtime/core-js/array/from.js","webpack:///./~/core-js/library/fn/array/from.js","webpack:///./~/core-js/library/modules/es6.array.from.js","webpack:///./~/core-js/library/modules/_iter-call.js","webpack:///./~/core-js/library/modules/_is-array-iter.js","webpack:///./~/core-js/library/modules/_create-property.js","webpack:///./~/core-js/library/modules/_iter-detect.js","webpack:///./~/babel-runtime/core-js/object/values.js","webpack:///./~/core-js/library/fn/object/values.js","webpack:///./~/core-js/library/modules/es7.object.values.js","webpack:///./~/core-js/library/modules/_object-to-array.js","webpack:///./~/babel-runtime/helpers/defineProperty.js","webpack:///./~/babel-runtime/core-js/object/define-property.js","webpack:///./~/core-js/library/fn/object/define-property.js","webpack:///./~/core-js/library/modules/es6.object.define-property.js","webpack:///./~/babel-runtime/core-js/set.js","webpack:///./~/core-js/library/fn/set.js","webpack:///./~/core-js/library/modules/es6.set.js","webpack:///./~/core-js/library/modules/_collection-strong.js","webpack:///./~/core-js/library/modules/_redefine-all.js","webpack:///./~/core-js/library/modules/_an-instance.js","webpack:///./~/core-js/library/modules/_for-of.js","webpack:///./~/core-js/library/modules/_set-species.js","webpack:///./~/core-js/library/modules/_meta.js","webpack:///./~/core-js/library/modules/_collection.js","webpack:///./~/core-js/library/modules/_array-methods.js","webpack:///./~/core-js/library/modules/_array-species-create.js","webpack:///./~/core-js/library/modules/_array-species-constructor.js","webpack:///./~/core-js/library/modules/_is-array.js","webpack:///./~/core-js/library/modules/es7.set.to-json.js","webpack:///./~/core-js/library/modules/_collection-to-json.js","webpack:///./~/core-js/library/modules/_array-from-iterable.js","webpack:///./js/canvas.js","webpack:///./js/utils.js","webpack:///./~/babel-runtime/helpers/classCallCheck.js","webpack:///./~/babel-runtime/helpers/createClass.js","webpack:///./js/observe.js","webpack:///./~/array.observe/array-observe.js","webpack:///./~/object.observe/dist/object-observe.js","webpack:///./~/observe-js/src/observe.js","webpack:///(webpack)/buildin/module.js","webpack:///./js/lazy.js","webpack:///./js/types.js"],"names":[],"mappings":"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AAO,EAAP;AACD,IA1RD;;AA4RA,WAAQ,IAAR;AACD,EA3VD,E;;;;;;AClmCA,mBAAkB,uD;;;;;;ACAlB;AACA,sD;;;;;;ACDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC,E;;;;;;ACRD;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA;;AAEA;AACA;AACA,G;;;;;;ACNA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;AChBA,wBAAuB;AACvB;AACA;AACA,G;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACLA;AACA;AACA;AACA;AACA,G;;;;;;ACJA,kBAAiB;;AAEjB;AACA;AACA,G;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK,WAAW,eAAe;AAC/B;AACA,MAAK;AACL;AACA,G;;;;;;ACpBA;AACA;AACA;AACA;AACA,4DAA2D;AAC3D,G;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACNA;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA,oDAAmD;AACnD;AACA,wCAAuC;AACvC,G;;;;;;ACLA;AACA;AACA;AACA,wCAAuC,gC;;;;;;ACHvC;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA;AACA,c;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA,+BAA8B;AAC9B;AACA;AACA,oDAAmD,OAAO,EAAE;AAC5D,G;;;;;;ACTA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAmE;AACnE;AACA,sFAAqF;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,gDAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd,eAAc;AACd,eAAc;AACd,eAAc;AACd,gBAAe;AACf,gBAAe;AACf,gBAAe;AACf,iBAAgB;AAChB,0B;;;;;;AC5DA,8BAA6B;AAC7B,sCAAqC,gC;;;;;;ACDrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACnBA;AACA;AACA;AACA,G;;;;;;ACHA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,G;;;;;;ACPA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG,UAAU;AACb;AACA;AACA;AACA,G;;;;;;ACfA;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA,G;;;;;;ACFA;AACA,sEAAsE,gBAAgB,UAAU,GAAG;AACnG,EAAC,E;;;;;;ACFD;AACA;AACA,kCAAiC,QAAQ,gBAAgB,UAAU,GAAG;AACtE,EAAC,E;;;;;;ACHD;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,G;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACPA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA,kBAAiB,sBAAsB;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,G;;;;;;ACtBA,mBAAkB,wD;;;;;;ACAlB;AACA,wD;;;;;;ACDA;AACA;;AAEA,2CAA0C,gCAAoC,E;;;;;;ACH9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,UAAU,EAAE;AAC9C,oBAAmB,sCAAsC;AACzD,EAAC,oCAAoC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,EAAC,W;;;;;;AChCD,0C;;;;;;ACAA,eAAc,sB;;;;;;ACAd;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yDAAwD,+BAA+B;AACvF;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA,EAAC,G;;;;;;AClDD,mBAAkB,wD;;;;;;ACAlB;AACA;AACA,0C;;;;;;ACFA;AACA;AACA;AACA;AACA;;AAEA,yGAAwG,OAAO;AAC/G;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACZA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iCAAgC;AAChC,eAAc;AACd,kBAAiB;AACjB;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,6B;;;;;;ACjCA,6BAA4B,e;;;;;;ACA5B;AACA,WAAU;AACV,G;;;;;;ACFA,qB;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA4B,aAAa;;AAEzC;AACA;AACA;AACA;AACA;AACA,yCAAwC,oCAAoC;AAC5E,6CAA4C,oCAAoC;AAChF,MAAK,2BAA2B,oCAAoC;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA,kCAAiC,2BAA2B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,G;;;;;;ACrEA,uB;;;;;;ACAA,0C;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA,4FAAgF,aAAa,EAAE;;AAE/F;AACA,sDAAqD,0BAA0B;AAC/E;AACA,G;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,G;;;;;;ACvCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACZA,+E;;;;;;ACAA;AACA;AACA;;AAEA;AACA,mEAAkE,+BAA+B;AACjG,G;;;;;;ACNA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,wB;;;;;;ACVA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,G;;;;;;ACZA;AACA;;AAEA;AACA;AACA,8BAA6B;AAC7B,eAAc;AACd;AACA,EAAC;AACD;AACA;AACA;AACA,gCAA+B;AAC/B;AACA;AACA,WAAU;AACV,EAAC,E;;;;;;AChBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACRA;AACA;AACA;AACA;AACA,0BAAyB,kBAAkB,EAAE;;AAE7C;AACA;AACA;AACA;AACA,IAAG,UAAU;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACtBA,mBAAkB,wD;;;;;;ACAlB;AACA;AACA,0C;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACPA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd,MAAK;AACL,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,YAAW;AACX;;AAEA;AACA;AACA,yCAAwC,WAAW;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,4BAA2B;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kCAAiC,kBAAkB;AACnD;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAY;AACZ;AACA;;AAEA;AACA,aAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+CAA8C,QAAQ;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA,YAAW;AACX;AACA;AACA;;AAEA,YAAW;AACX;AACA;AACA;;AAEA,YAAW;AACX;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA,+CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;;AAEL;AACA,+CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA,+CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC3pBA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4BAA2B;AAC3B;AACA;AACA;AACA,6BAA4B,UAAU;;;;;;;AC7FtC,mBAAkB,wD;;;;;;ACAlB;AACA;AACA,qD;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yEAA0E,kBAAkB,EAAE;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAoD,gCAAgC;AACpF;AACA;AACA,MAAK;AACL;AACA,kCAAiC,gBAAgB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACpCD;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,G;;;;;;ACXA;AACA;AACA;AACA;;AAEA;AACA;AACA,G;;;;;;ACPA;AACA;AACA;;AAEA;AACA;AACA;AACA,G;;;;;;ACPA;AACA;;AAEA;AACA;AACA,gCAA+B,qBAAqB;AACpD,gCAA+B,SAAS,EAAE;AAC1C,EAAC,UAAU;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,SAAS,mBAAmB;AACvD,gCAA+B,aAAa;AAC5C;AACA,IAAG,UAAU;AACb;AACA,G;;;;;;ACpBA,mBAAkB,wD;;;;;;ACAlB;AACA,wD;;;;;;ACDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC,E;;;;;;ACRD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,G;;;;;;ACfA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;;AAEA;AACA,G;;;;;;ACvBA,mBAAkB,wD;;;;;;ACAlB;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA,sEAAuE,0CAA0C,E;;;;;;ACFjH,mBAAkB,wD;;;;;;ACAlB;AACA;AACA;AACA;AACA;AACA,8C;;;;;;;;;;;;ACLA;AACA;;AAEA;AACA;AACA,yBAAwB,mEAAmE;AAC3F,EAAC;AACD;AACA;AACA;AACA;AACA,EAAC,U;;;;;;ACXD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B,2BAA0B;AAC1B,2BAA0B;AAC1B,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,8DAA6D,OAAO;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB,sBAAqB;AACrB,2BAA0B;AAC1B,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,G;;;;;;AC9IA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,G;;;;;;ACNA;AACA;AACA;AACA,IAAG;AACH,G;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC,iBAAiB,EAAE;AACxD;AACA;AACA;AACA;AACA;AACA,iEAAgE,gBAAgB;AAChF;AACA;AACA,IAAG,2CAA2C,gCAAgC;AAC9E;AACA;AACA;AACA;AACA;AACA,yB;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAoB,aAAa;AACjC,IAAG;AACH,G;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAiD;AACjD,EAAC;AACD;AACA,sBAAqB;AACrB;AACA,UAAS;AACT,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA,G;;;;;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS,eAAe;AACxB;AACA;AACA;AACA,uCAAsC;AACtC;AACA,+BAA8B;AAC9B,8BAA6B;AAC7B,gCAA+B;AAC/B,oCAAmC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;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,EAAC;;;;;;;AC9FD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAc,OAAO;AACrB,eAAc,0BAA0B;AACxC,eAAc,SAAS;AACvB,eAAc,IAAI;AAClB,eAAc,aAAa;AAC3B,eAAc,SAAS;AACvB,eAAc,QAAQ;AACtB,eAAc,QAAQ;AACtB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA,YAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA,eAAc,OAAO;AACrB,eAAc,0BAA0B;AACxC,eAAc,eAAe;AAC7B;AACA;AACA,eAAc,OAAO;AACrB,eAAc,SAAS;AACvB,eAAc,WAAW;AACzB;AACA;AACA;AACA;AACA,eAAc,OAAO;AACrB,eAAc,OAAO;AACrB,eAAc,OAAO;AACrB,eAAc,OAAO;AACrB,eAAc,EAAE;AAChB,eAAc,OAAO;AACrB;AACA;AACA;AACA,eAAc,OAAO;AACrB,eAAc,SAAS;AACvB,eAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;;AAEA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,oBAAmB,GAAG;AACtB,sBAAqB;AACrB;AACA;AACA,uCAAsC,mDAAmD;AACzF,UAAS;;AAET;AACA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB,oBAAmB,EAAE;AACrB,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA,UAAS;AACT,qCAAoC,kBAAkB;AACtD;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qCAAoC,gCAAgC,EAAE;AACtE,qCAAoC,mCAAmC,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,oCAAmC,iBAAiB;AACpD;AACA;AACA;AACA,UAAS,eAAe,kBAAkB,EAAE;;AAE5C;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA,yEAAwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA,2CAA0C,kBAAkB;AAC5D;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAS;;AAET;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,SAAS;AAC5B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,UAAS;;AAET;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,QAAQ;AAC3B,oBAAmB,SAAS;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;;AAEA;AACA,UAAS;;AAET;AACA;AACA;AACA,oBAAmB,WAAW;AAC9B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8BAA6B;;AAE7B;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAiB;;AAEjB;AACA;AACA,2BAA0B,kBAAkB;AAC5C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,oBAAmB,YAAY;AAC/B,oBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,WAAW;AAC9B,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA,wBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA,4BAA2B,aAAa;AACxC;AACA;AACA,uCAAsC;;AAEtC;AACA;AACA;AACA,2CAA0C,iBAAiB;AAC3D;AACA;AACA;AACA;AACA;AACA,kBAAiB;;AAEjB;AACA;AACA;AACA;AACA,4BAA2B,OAAO;AAClC,4BAA2B,UAAU;AACrC,4BAA2B,EAAE;AAC7B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,yCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,WAAW;AAC9B,oBAAmB,QAAQ;AAC3B,oBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;;AAET;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,WAAW;AAC9B,oBAAmB,aAAa;AAChC,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB,gBAAe,SAAS;AACxB,iBAAgB;AAChB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB,iBAAgB;AAChB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB;AAChB,kBAAiB;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA,EAAC;;;;;;;ACpuBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA4C;AAC5C;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wCAAuC;AACvC,oBAAmB,YAAY,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAe;;AAEf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,YAAW;AACX;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,oBAAmB,kBAAkB;AACrC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,uBAAuB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,2CAA0C,8BAA8B;AACxE;AACA,MAAK;;AAEL;AACA;AACA;;AAEA,sBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;;AAEA,kBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yBAAwB,gBAAgB,EAAE;AAC1C;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA,wBAAuB,oBAAoB;AAC3C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,sBAAqB,oBAAoB;AACzC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,yBAAwB;AACxB,2BAA0B;AAC1B,2BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB,2BAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA,sBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA,sBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,sBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH,4BAA2B,cAAc;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAmB,0BAA0B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,kBAAiB,cAAc;AAC/B;AACA;AACA;;AAEA;AACA,kBAAiB,iBAAiB;AAClC;;AAEA,kBAAiB,cAAc;AAC/B,oBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB,gBAAgB;AACrC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA,sBAAqB,kBAAkB;AACvC;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA,8BAA6B;AAC7B,MAAK;AACL;AACA;AACA,8BAA6B;AAC7B;AACA,8BAA6B;AAC7B;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,oBAAmB,oBAAoB;AACvC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAmB,0BAA0B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;;;;;;;ACtrDD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;SCHgB,K,GAAA,K;SAGA,O,GAAA,O;SAGA,K,GAAA,K;SAGA,Q,GAAA,Q;AATT,UAAS,KAAT,CAAkB,EAAlB,EAAyC;AAC9C,UAAO,EAAE,MAAM,UAAR,EAAoB,MAAM,EAA1B,EAAP;AACD;AACM,UAAS,OAAT,CAAoB,EAApB,EAA2C;AAChD,UAAO,EAAE,MAAM,UAAR,EAAoB,MAAM,EAA1B,EAAP;AACD;AACM,UAAS,KAAT,CAAkB,CAAlB,EAAkC;AACvC,UAAO,EAAE,MAAM,QAAR,EAAkB,OAAO,CAAzB,EAAP;AACD;AACM,UAAS,QAAT,CAAqB,KAArB,EAAyC;AAC9C,OAAI,MAAM,IAAN,KAAe,UAAnB,EAA+B,OAAO,MAAM,IAAN,EAAP,CAA/B,KACK,OAAO,MAAM,KAAb;AACN,E;;;;;;;;;;;;;;;;ACbM,KAAI,8BAAW;AACpB,QAAK,KADe;;AAGpB,QAAK;AAHe,EAAf;;AAWA,KAAI,8BAAW;AACpB,WAAQ,QADY;AAEpB,WAAQ,QAFY;AAGpB,UAAO,OAHa;AAIpB,WAAQ;AAJY,EAAf;;;;;;;;;;;;;;;;;;;;AAqHA,KAAI,0DAAyB;AAClC,QAAK,KAD6B;AAElC,UAAO,OAF2B;AAGlC,SAAM,MAH4B;AAIlC,SAAM;AAJ4B,EAA7B;;AAaA,KAAI,wCAAgB;AACzB,SAAM,MADmB;AAEzB,UAAO;AAFkB,EAApB;;AAsDA,KAAI,0CAAiB;AAC1B,iBAAc,qBADY;AAE1B,iBAAc;AAFY,EAArB;;;;;;;;AA6BA,KAAI,kCAAa;AACtB,SAAM,MADgB;AAEtB,UAAO,OAFe;AAGtB,cAAW,WAHW;AAItB,eAAY,YAJU;AAKtB,OAAI,IALkB;AAMtB,SAAM,MANgB;AAOtB,QAAK;AAPiB,EAAjB","file":"./build/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a053f859e76cc8441b8c\n **/","/* @flow */\n\nimport * as Canvas from './canvas'\nimport * as Utils from './utils'\nimport { ArrayObserver } from 'observe-js'\nimport * as Lazy from './lazy'\n\nimport {\n  CrewEnum,\n  RoomEnum,\n  ActionEnum,\n  DirectionEnum,\n  CharacterAnimationEnum,\n  SpawnEventEnum\n} from './types'\n\nimport type {\n  Player,\n  CrewMember,\n  CrewEnumType,\n  Room,\n  GameState,\n  Action,\n  Character,\n  Furniture,\n  RGB,\n  Recolor,\n  CharacterAnimationComponent,\n  CarrierComponent,\n  CharacterAnimation,\n  Direction,\n  ImagerComponent,\n  CarriableComponent,\n  FurnitureEvent,\n  InteractorComponent,\n  SpawnerComponent,\n  ButtonComponent,\n  Alien,\n  SpawnEvent,\n  AIComponent,\n  ActorComponent\n} from './types'\n\nlet FPS = 60.0;\nlet DT = 1.0 / FPS;\n\nlet ANIM_FPS = 8.0;\n\nlet PLAYER_HEIGHT = 1\nlet PLAYER_WIDTH = 0.875\nlet ROOM_WIDTH = 8\nlet ROOM_HEIGHT = 2.5\n\nlet FLOOR_HEIGHT = 0.3\nlet FURNITURE_HEIGHT = 0.6\nlet WALL_START_HEIGHT = 0.65\n\nlet BUTTON_COOLOFF = 0.5\nlet TELEPORT_COOLOFF = 0.5\n\nfunction transformToPixels(units) {return units * 75}\nfunction transformToUnits(pixels) {return pixels / 75.0}\n\nlet CANVAS_WIDTH = transformToPixels(ROOM_WIDTH)\nlet CANVAS_HEIGHT = transformToPixels(ROOM_HEIGHT)\nlet CANVAS_PLAYER_HEIGHT = transformToPixels(PLAYER_HEIGHT)\n\nfunction genId(): string {return Math.random().toString().substring(2, 6)}\n\nfunction stringToHash(s: string): number {\n  // from http://stackoverflow.com/questions/7616461/generate-a-hash-from-string-in-javascript-jquery\n  let hash = 0, i = 0, len = s.length, chr;\n  while ( i < len ) {\n    hash  = ((hash << 5) - hash + s.charCodeAt(i++)) << 0;\n  }\n  return hash;\n};\n\nfunction defaultAnimation(): CharacterAnimationComponent {\n  return {\n    kind: 'animation',\n    direction: DirectionEnum.LEFT,\n    animation: CharacterAnimationEnum.STAND,\n    time: 0\n  }\n}\n\nfunction defaultCarrier(): CarrierComponent {\n  return {\n    kind: 'carrier',\n    carrying: undefined\n  }\n}\n\nfunction defaultCarriable(): CarriableComponent {\n  return {\n    kind: 'carriable'\n  }\n}\n\nfunction defaultInteractor(): InteractorComponent {\n  return {\n    kind: 'interactor'\n  }\n}\n\nfunction defaultAI(): AIComponent {\n  return {\n    kind: 'ai',\n    actions: [],\n    nextThink: Math.random() + 0.5\n  }\n}\n\nfunction generateCrewMember(\n  x: number,\n  roomIndex: number,\n  type: CrewEnumType\n): CrewMember {\n  return {\n    kind: 'crew',\n    id: genId(),\n    x: x, y: 0, vx: 0, vy: 0, ax: 0, ay: 0,\n    width: PLAYER_WIDTH,\n    height: PLAYER_HEIGHT,\n    roomIndex: roomIndex,\n    type: type,\n\n    // components\n    carriable: defaultCarriable(),\n    animation: defaultAnimation(),\n    ai: defaultAI(),\n    actor: defaultActor()\n  }\n}\n\nfunction generateSpawner(\n  x: number,\n  roomIndex: number\n): (ev: FurnitureEvent) => Alien | CrewMember {\n  return (ev: FurnitureEvent) => {\n    let character;\n\n    if (ev == SpawnEventEnum.SEC_TELEPORT)\n      character = generateCrewMember(x, roomIndex, CrewEnum.SEC)\n    if (ev == SpawnEventEnum.ENG_TELEPORT)\n      character = generateCrewMember(x, roomIndex, CrewEnum.ENG)\n\n    if (character === undefined)\n      throw \"Unknown spawn event\"\n\n    return Object.assign(character, {y: ROOM_HEIGHT})\n  }\n}\n\nfunction defaultActor(): ActorComponent {\n  return {\n    kind: 'actor',\n    actions: new Set()\n  }\n}\n\nfunction initialGameState(): GameState {\n  return {\n    player: {\n      kind: 'player',\n      id: genId(),\n      x: 3, y: 0, vx: 0, vy: 0, ax: 0, ay: 0,\n      width: PLAYER_WIDTH,\n      height: PLAYER_HEIGHT,\n      roomIndex: 0,\n\n      // components\n      animation: defaultAnimation(),\n      carrier: defaultCarrier(),\n      imager: defaultImager(PLAYER_IMAGES),\n      interactor: defaultInteractor(),\n      actor: defaultActor()\n    },\n    crew: [\n      generateCrewMember(5, 1, CrewEnum.ENG),\n      generateCrewMember(2, 2, CrewEnum.SEC),\n    ],\n    furnitures: [\n      {\n        kind: 'furniture',\n        type: 'console_green',\n        id: genId(),\n        x: 6.4,\n        width: 8 * 0.12,\n        height: 6 * 0.12,\n        roomIndex: 0,\n      },\n      {\n        kind: 'furniture',\n        type: 'console_red',\n        id: genId(),\n        x: 4.9,\n        width: 8 * 0.12,\n        height: 6 * 0.12,\n        roomIndex: 0,\n      },\n      {\n        kind: 'furniture',\n        type: 'screen',\n        id: genId(),\n        x: 2.5,\n        width: 20 * 0.12,\n        height: 16 * 0.12,\n        roomIndex: 0,\n      },\n      {\n        kind: 'furniture',\n        type: 'core',\n        id: genId(),\n        x: 2,\n        width: 24 * 0.12,\n        height: 16 * 0.12,\n        roomIndex: 1,\n      },\n      {\n        kind: 'furniture',\n        type: 'console_engine',\n        id: genId(),\n        x: 4.52,\n        width: 20 * 0.12,\n        height: 11 * 0.12,\n        roomIndex: 1,\n      },\n      {\n        kind: 'furniture',\n        type: 'console_tall',\n        id: genId(),\n        x: 1.5,\n        width: 6 * 0.12,\n        height: 16 * 0.12,\n        roomIndex: 2,\n      },\n      {\n        kind: 'furniture',\n        type: 'med_table',\n        id: genId(),\n        x: 3.1,\n        width: 12 * 0.12,\n        height: 6 * 0.12,\n        roomIndex: 2,\n      },\n      {\n        kind: 'furniture',\n        type: 'chair_left',\n        id: genId(),\n        x: 4.6,\n        width: 6 * 0.12,\n        height: 8 * 0.12,\n        roomIndex: 2,\n      },\n      {\n        kind: 'furniture',\n        type: 'med_cab',\n        id: genId(),\n        x: 5.5,\n        width: 6 * 0.12,\n        height: 12 * 0.12,\n        roomIndex: 2,\n      },\n      {\n        kind: 'furniture',\n        type: 'chair',\n        id: genId(),\n        x: 6.6,\n        width: 6 * 0.12,\n        height: 8 * 0.12,\n        roomIndex: 2,\n      },\n      {\n        kind: 'furniture',\n        type: 'teleporter',\n        id: 'teleporter0',\n        foreground: true,\n        x: 2.5,\n        width: 17 * 0.12,\n        height: 16 * 0.12,\n        roomIndex: 3,\n        spawner: {\n          kind: 'spawner',\n          events: [],\n          spawn: generateSpawner(2.5, 3),\n          time: -1\n        }\n      },\n      {\n        kind: 'furniture',\n        type: 'sec_button',\n        id: genId(),\n        x: 4,\n        width: 6 * 0.12,\n        height: 6 * 0.12,\n        roomIndex: 3,\n        button: {\n          kind: 'button',\n          eventToFire: SpawnEventEnum.SEC_TELEPORT,\n          time: -1,\n          notify: 'teleporter0'\n        }\n      },\n      {\n        kind: 'furniture',\n        type: 'eng_button',\n        id: genId(),\n        x: 4.8,\n        width: 6 * 0.12,\n        height: 6 * 0.12,\n        roomIndex: 3,\n        button: {\n          kind: 'button',\n          eventToFire: SpawnEventEnum.ENG_TELEPORT,\n          time: -1,\n          notify: 'teleporter0'\n        }\n      },\n      {\n        kind: 'furniture',\n        type: 'console_blue',\n        id: genId(),\n        x: 6,\n        width: 8 * 0.12,\n        height: 6 * 0.12,\n        roomIndex: 3,\n      }\n    ],\n    rooms: [\n      {\n        type: RoomEnum.BRIDGE\n      },\n      {\n        type: RoomEnum.ENGINE\n      },\n      {\n        type: RoomEnum.MEDBAY\n      },\n      {\n        type: RoomEnum.STORE\n      }\n    ]\n  }\n}\n\nlet DAMAGE_IMAGES = [\n  'damage0.png', 'damage1.png', 'damage2.png', 'damage3.png', 'damage4.png']\n\nlet FURNITURE_IMAGES = {\n  'console_red': ['img/console_red.png'],\n  'console_green': ['img/console_green.png'],\n  'screen': ['img/screen.png'],\n  'core': ['img/core.png', 'img/core2.png', 'img/core3.png'],\n  'console_engine': ['img/console_engine.png'],\n  'console_tall': ['img/console_tall.png'],\n  'med_table': ['img/med_table.png'],\n  'console_weird': ['img/console_weird.png'],\n  'chair': ['img/chair.png'],\n  'chair_left': ['img/chair_left.png'],\n  'med_cab': ['img/med_cab.png'],\n  'teleporter': ['img/teleporter.png'],\n  'sec_button': ['img/sec_button.png'],\n  'eng_button': ['img/eng_button.png'],\n  'console_blue': ['img/console_blue.png'],\n}\n\nlet ACTIVE_IMAGES = {\n  'teleporter': ['img/teleporter_alt.png', 'img/teleporter_alt2.png'],\n  'sec_button': ['img/sec_button_alt.png'],\n  'eng_button': ['img/eng_button_alt.png'],\n}\n\nlet FURNITURE_ANIMATION_DT = {\n  'teleporter': 0.2\n}\n\nfunction generateFurnitureImage(furniture: Furniture, time: number) {\n  let images = FURNITURE_IMAGES[furniture.type]\n  let dt = FURNITURE_ANIMATION_DT[furniture.type] || 1.0\n\n  let button: ?ButtonComponent = furniture.button\n  if (button && isButtonPressed(button)) {\n    images = ACTIVE_IMAGES[furniture.type]\n  }\n\n  let spawner: ?SpawnerComponent = furniture.spawner\n  if (spawner && isSpawnerActive(spawner)) {\n    images = ACTIVE_IMAGES[furniture.type]\n  }\n\n  return images[Math.floor((time / dt) % images.length)]\n}\n\nfunction generateFurnitureRect(furniture: Furniture) {\n  return {\n    x0: furniture.x - furniture.width * 0.5,\n    x1: furniture.x + furniture.width * 0.5,\n    y0: FURNITURE_HEIGHT,\n    y1: FURNITURE_HEIGHT + furniture.height\n  }\n}\n\ntype AnimationMap = {[anim: CharacterAnimation]: Array<string>}\ntype OrientedAnimationMap = {[dir: Direction]: AnimationMap}\n\nfunction _generateAnimationMap(imagesMap: AnimationMap, oldStr: string, newStr: string): AnimationMap {\n  return Utils.mapObject(\n    imagesMap,\n    (images) => images.map((image) => image.replace(oldStr, newStr)))\n}\n\nfunction _generateOrientedAnimationMap(dirImagesMap: OrientedAnimationMap, oldStr: string, newStr: string): OrientedAnimationMap {\n  return Utils.mapObject(\n    dirImagesMap,\n    (imagesMap) => _generateAnimationMap(imagesMap, oldStr, newStr))\n}\n\nlet _RIGHT_PLAYER_IMAGES: AnimationMap = {\n  [CharacterAnimationEnum.RUN]: ['img/right_cap.png', 'img/right_cap_run_0.png'],\n  [CharacterAnimationEnum.STAND]: ['img/right_cap.png'],\n  [CharacterAnimationEnum.JUMP]: ['img/right_cap_run_0.png'],\n  [CharacterAnimationEnum.SKID]: ['img/right_cap.png'] }\n\nlet PLAYER_IMAGES = {\n  [DirectionEnum.LEFT]:  _generateAnimationMap(_RIGHT_PLAYER_IMAGES,  'right', 'left'),\n  [DirectionEnum.RIGHT]: _RIGHT_PLAYER_IMAGES\n}\n\nlet _RIGHT_ALIEN_IMAGES: AnimationMap = {\n  [CharacterAnimationEnum.RUN]: ['img/right_alien.png', 'img/right_alien_run_0.png'],\n  [CharacterAnimationEnum.STAND]: ['img/right_alien.png'],\n  [CharacterAnimationEnum.JUMP]: ['img/right_alien_run_0.png'],\n  [CharacterAnimationEnum.SKID]: ['img/right_alien.png'] }\n\nlet ALIEN_IMAGES = {\n  [DirectionEnum.LEFT]:  _generateAnimationMap(_RIGHT_ALIEN_IMAGES,  'right', 'left'),\n  [DirectionEnum.RIGHT]: _RIGHT_ALIEN_IMAGES\n}\n\nfunction defaultImager(map: OrientedAnimationMap): ImagerComponent {\n  let computeImage = (dir: Direction, anim: CharacterAnimation, time: number) => {\n    let i = Math.floor(time * ANIM_FPS + 0.25)\n    let images = map[dir][anim]\n    let image = images[i % images.length]\n    return image\n  }\n  return {\n    kind: 'imager',\n    computeImage: computeImage\n  }\n}\n\ntype Sprite = {\n  sourceId: string,\n  image?: string,\n  imageRecolor?: Recolor,\n  flip?: boolean,\n  opacity?: number,\n  color: string,\n  x0: number,\n  y0: number,\n  x1: number,\n  y1: number\n}\n\nfunction transformRectToPixels(rect: {x0:number, y0:number, x1:number, y1:number})\n: {x0:number, y0:number, x1:number, y1:number} {\n  return {\n    x0: transformToPixels(rect.x0),\n    y0: transformToPixels(rect.y0),\n    x1: transformToPixels(rect.x1),\n    y1: transformToPixels(rect.y1)\n  }\n}\n\nfunction crewMemberColor(crew: CrewMember): string {\n  if (crew.type === CrewEnum.ENG) return 'rgb(223, 208, 0)'\n  // if (crew.type === CrewEnum.SCI) return 'rgb(49, 61, 172)'\n  if (crew.type === CrewEnum.SEC) return 'rgb(223, 0, 0)'\n  throw \"Unknown crew type\"\n}\n\nfunction sameSign(x, y) {\n  return x * y >= 0\n}\n\nfunction characterAnimation(\n  oldAnimation: ?CharacterAnimationComponent,\n  character: { vx: number, vy: number, ax: number, ay: number },\n  isGrounded: boolean,\n  isCarried: boolean,\n  dt: number\n): CharacterAnimationComponent {\n  let isMoving = 0 < Math.abs(character.vx)\n  let isAccelerating = 0 < Math.abs(character.ax)\n  let isSpeedIncreasing = sameSign(character.vx, character.ax)\n\n  let slowingDown = isMoving && isAccelerating && !isSpeedIncreasing\n\n  let movingLeft  = character.vx < - 0\n  let movingRight = character.vx >   0\n\n  // Setup default Direction & CharacterAnimation\n  let direction = DirectionEnum.RIGHT\n  let animation = CharacterAnimationEnum.STAND\n\n  if (oldAnimation) {\n    animation = oldAnimation.animation\n    direction = oldAnimation.direction\n  }\n\n  if (movingLeft)  direction = DirectionEnum.LEFT\n  if (movingRight) direction = DirectionEnum.RIGHT\n\n  if (isCarried) {\n    animation = CharacterAnimationEnum.STAND\n  } else if (!isGrounded) {\n    animation = CharacterAnimationEnum.JUMP\n  } else {\n    if (slowingDown) animation = CharacterAnimationEnum.SKID\n    else if (isMoving) animation = CharacterAnimationEnum.RUN\n    else animation = CharacterAnimationEnum.STAND\n  }\n\n  let time = 0\n  if (oldAnimation) {\n    if (oldAnimation.animation !== animation) time = 0\n    else time = oldAnimation.time + dt\n  }\n\n  return {\n    kind: 'animation',\n    direction: direction,\n    animation: animation,\n    time: time\n  }\n}\n\nfunction generateShadowOpacity(character: {y: number }): number {\n  return (2.0 - Math.min(character.y, 1.5)) / 2.0\n}\n\nfunction generateShadowRect(character: { x: number, y: number, width: number, height: number })\n: { x0: number, y0: number, x1: number, y1: number } {\n  let scale   = (16.0 - character.y) / 16.0\n\n  return {\n    x0: character.x - scale * character.width * 0.5,\n    x1: character.x + scale * character.width * 0.5,\n    y0: - 0.2 * character.width,\n    y1: character.height - 0.2 * character.width\n  }\n}\n\nfunction generateShadowSprite(\n  id: string,\n  opacity: number,\n  rect: { x0: number, y0: number, x1: number, y1: number }\n): Sprite {\n  return {\n    sourceId: id,\n    color: 'rgb(50, 50, 50)',\n    image: 'img/shadow.png',\n    opacity: 0.5 * opacity * opacity,\n    x0: rect.x0,\n    x1: rect.x1,\n    y0: rect.y0,\n    y1: rect.y1\n  }\n}\n\nfunction computeAnimationImage(\n  animationState: CharacterAnimationComponent,\n  directionalImagesMap: OrientedAnimationMap\n): string {\n  let animation = animationState.animation\n  let direction = animationState.direction\n  let time      = animationState.time\n\n  let i = Math.floor(time * ANIM_FPS + 0.25)\n  let images = directionalImagesMap[animationState.direction][animation]\n  let image = images[i % images.length]\n\n  return image\n}\n\nfunction adjustXForRoom(\n  x: number,\n  dRoom: number,\n  roomWidth: number\n): number {\n  return x - roomWidth * dRoom\n}\n\nfunction adjustRectForRoom(\n  rect: { x0: number, y0: number, x1: number, y1: number },\n  dRoom: number,\n  roomWidth: number\n): { x0: number, y0: number, x1: number, y1: number } {\n  return {\n    x0: adjustXForRoom(rect.x0, dRoom, roomWidth),\n    x1: adjustXForRoom(rect.x1, dRoom, roomWidth),\n    y0: rect.y0,\n    y1: rect.y1\n  }\n}\n\nfunction adjustRectForScale(\n  rect: { x0: number, y0: number, x1: number, y1: number },\n  scale: number\n): { x0: number, y0: number, x1: number, y1: number } {\n  let x = (rect.x0 + rect.x1) * 0.5\n  let w = (rect.x1 - rect.x0) * scale\n  let h = (rect.y1 - rect.y0) * scale\n  return {\n    x0: x - w * 0.5,\n    x1: x + w * 0.5,\n    y0: rect.y0,\n    y1: rect.y0 + h\n  }\n}\n\nfunction shouldDrawCharacter(\n  character: { x: number, width: number },\n  dRoom: number,\n  roomWidth: number\n): boolean {\n  let x = adjustXForRoom(character.x, dRoom, roomWidth)\n  return x > - character.width && x < roomWidth + character.width\n}\n\nfunction generateCharacterRect(\n  character: { x: number, y: number, width: number, height: number }\n): { x0: number, y0: number, x1: number, y1: number } {\n  return {\n    x0: character.x - character.width * 0.5,\n    x1: character.x + character.width * 0.5,\n    y0: character.y,\n    y1: character.y + character.height\n  }\n}\n\nfunction generateCharacterSprite(\n  id: string,\n  image: string,\n  color: string,\n  rect: { x0: number, y0: number, x1: number, y1: number },\n  recolor: ?Recolor\n): Sprite {\n  let sprite: Sprite = {\n    sourceId: id,\n    color: color,\n    image: image,\n    x0: rect.x0,\n    y0: rect.y0,\n    x1: rect.x1,\n    y1: rect.y1\n  }\n  if (recolor) sprite.imageRecolor = recolor\n\n  return sprite\n}\n\nfunction getOrientedAnimationMap(character: Character): OrientedAnimationMap {\n  if (character.kind === 'player') return PLAYER_IMAGES\n  if (character.kind === 'crew') return PLAYER_IMAGES\n  throw \"Failed to get CharacterAnimation map\"\n}\n\nlet PERSON_COLORS: Array<RGB> = [\n  {r:123,g:52,b:0}, // shaded hair\n  {r:156,g:77,b:0}, // hair\n  {r:255,g:197,b:145}, // shaded skin\n  {r:255,g:212,b:165}  // bright skin\n]\n\nlet ALT_PERSON_SCALES = [\n  1, 0.95\n]\n\nlet ALT_PERSON_COLORS: Array<Array<RGB>> = [\n  PERSON_COLORS,\n  [ // woman\n    {r:123,g:52,b:0, a:0}, // shaded hair\n    {r:156,g:77,b:0}, // hair\n    {r:123,g:52,b:0}, // shaded skin\n    {r:255,g:212,b:165}  // bright skin\n  ]\n]\n\nlet BODY_COLORS: Array<RGB> = [\n  {r:99,g:181,b:26}, // darkest\n  {r:124,g:199,b:38}, // medium\n  {r:152,g:220,b:56} // lightest\n]\n\nlet ALTERNATE_BODY_COLORS: {[type: CrewEnumType]: Array<RGB>} = {\n  [CrewEnum.SEC]: [\n    {r:179,g:20,b:38}, // darkest\n    {r:207,g:18,b:45}, // medium\n    {r:240,g:19,b:52} // lightest\n  ],\n  [CrewEnum.ENG]: [\n    {r:186,g:179,b:0},\n    {r:205,g:199,b:0},\n    {r:228,g:220,b:0}\n  ],\n  // [CrewEnum.SCI]: [\n  //   {r:52,g:88,b:183},\n  //   {r:62,g:104,b:216},\n  //   {r:73,g:133,b:229}\n  // ]\n}\n\nfunction generateRecolors(oldRGBs: Array<RGB>, newRGBs: Array<RGB>): Recolor {\n  return {\n    oldRGBs: oldRGBs,\n    newRGBs: newRGBs,\n    hash: '' + stringToHash(\n      oldRGBs.map((rgb) => Object.values(rgb)).join('') +\n      newRGBs.map((rgb) => Object.values(rgb)).join('')\n    )\n  }\n}\n\nfunction combineRecolors(recolor1: Recolor, recolor2: Recolor): Recolor {\n  return {\n    oldRGBs: Array.from(Utils.combine(recolor1.oldRGBs, recolor2.oldRGBs)),\n    newRGBs: Array.from(Utils.combine(recolor1.newRGBs, recolor2.newRGBs)),\n    hash: recolor1.hash + recolor2.hash\n  }\n}\n\nfunction computeImageScale(character: Character): number {\n  return ALT_PERSON_SCALES[stringToHash(character.id) % ALT_PERSON_SCALES.length]\n}\n\nfunction computeImageRecolor(character: Character): ?Recolor {\n  let recolors: Array<Recolor> = [];\n\n  if (character.kind === 'crew') {\n    let crew: CrewMember = character;\n    recolors.push(\n      generateRecolors(BODY_COLORS, ALTERNATE_BODY_COLORS[crew.type]))\n  }\n\n  recolors.push(\n    generateRecolors(PERSON_COLORS, ALT_PERSON_COLORS[stringToHash(character.id) % ALT_PERSON_COLORS.length]))\n\n  if (recolors.length === 0)\n    return undefined\n\n  return recolors.reduce(\n    (prev, curr) => {\n      if (prev === undefined) return curr\n      return combineRecolors(prev, curr)\n    })\n}\n\nfunction getCharacterColor(character: Character): string {\n  if (character.kind === 'player') return 'rgb(154, 205, 50)'\n  if (character.kind === 'crew') {\n    let crew: CrewMember = character;\n    if (crew.type === CrewEnum.ENG) return 'rgb(223, 208, 0)'\n    // if (crew.type === CrewEnum.SCI) return 'rgb(49, 61, 172)'\n    if (crew.type === CrewEnum.SEC) return 'rgb(223, 0, 0)'\n    throw \"Unknown crew type\"\n  }\n  throw \"Failed to get CharacterAnimation map\"\n}\n\nfunction adjustFloorHeight(sprite: Sprite, floorHeight: number): { y0?: number, y1?: number } {\n  return { y0: sprite.y0 + floorHeight, y1: sprite.y1 + floorHeight }\n}\n\nfunction computeRoomColor(room: Room): string {\n  if (room.type == RoomEnum.BRIDGE) return '#f8f8f8'\n  if (room.type == RoomEnum.ENGINE) return '#fee'\n  if (room.type == RoomEnum.MEDBAY) return '#eef'\n  if (room.type == RoomEnum.STORE) return '#eff'\n  throw \"Unknown room\"\n}\n\nfunction computeFloorColor(room: Room): string {\n  if (room.type == RoomEnum.BRIDGE) return '#eee'\n  if (room.type == RoomEnum.ENGINE) return '#eee'\n  if (room.type == RoomEnum.MEDBAY) return '#eee'\n  if (room.type == RoomEnum.STORE) return '#eee'\n  throw \"Unknown room\"\n}\n\nlet WALK_SPEED = 2;\nlet WALK_ACCEL = 15;\n\nlet PLAYER_SPEED = 8;\nlet PLAYER_ACCEL = 30;\nlet PLAYER_JUMP_SPEED = 7;\nlet PLAYER_THROW_XSPEED = 4;\nlet PLAYER_THROW_YSPEED = 3;\nlet GRAVITY_ACCEL = 40;\n\nfunction thinkPlayerLocomotion(\n  keysDown: KeysDown,\n  canJump: boolean\n): Set<Action> {\n  let actions: Set<Action> = new Set()\n\n  if (keysDown.a) actions.add(ActionEnum.LEFT)\n  if (keysDown.d) actions.add(ActionEnum.RIGHT)\n  if (keysDown.w) actions.add(ActionEnum.UP)\n  if (canJump && keysDown.w) actions.add(ActionEnum.JUMP)\n\n  return actions\n}\n\nfunction isGrounded(character: {y: number, vy: number}): boolean {\n  return character.y <= 0.001 && character.vy <= 0.001\n}\n\nfunction canJump(character: {y: number, vy: number}): boolean {\n  return isGrounded(character)\n}\n\nfunction horizontalCharacterPhysics(\n  character: { vx: number }, actions: Set<Action>, isGrounded: boolean\n): { ax: number, vx?: number } {\n  let isSlow = actions.has(ActionEnum.SLOW_LEFT) || actions.has(ActionEnum.SLOW_RIGHT)\n  let isFast = actions.has(ActionEnum.LEFT) || actions.has(ActionEnum.RIGHT)\n\n  if (isSlow && isFast) throw \"Can't be fast and slow at same time...\"\n\n  let SPEED = isSlow ? WALK_SPEED : PLAYER_SPEED\n  let ACCEL = isSlow ? WALK_ACCEL : PLAYER_ACCEL\n\n  let dplayer = {}\n  dplayer.ax = 0\n\n  let left  = actions.has(ActionEnum.LEFT) || actions.has(ActionEnum.SLOW_LEFT)\n  let right = actions.has(ActionEnum.RIGHT) || actions.has(ActionEnum.SLOW_RIGHT)\n\n  let maxVelocity = Math.abs(character.vx) > SPEED\n  let movingRight = character.vx >   0\n  let movingLeft  = character.vx < - 0\n  let maxRight = movingRight && maxVelocity\n  let maxLeft  = movingLeft  && maxVelocity\n\n  if (left && !right && !maxLeft ) dplayer.ax = - ACCEL // move left\n  if (right && !left && !maxRight) dplayer.ax =   ACCEL // move right\n\n  if ((left === right) && isGrounded) { // skid to a stop\n    if (movingRight) dplayer.ax = - ACCEL\n    if (movingLeft)  dplayer.ax =   ACCEL\n  }\n\n  if (isGrounded && maxVelocity) { // terminal velocity on ground\n    if (movingRight) dplayer.vx =   SPEED\n    if (movingLeft)  dplayer.vx = - SPEED\n  }\n\n  return dplayer\n}\n\nfunction verticalCharacterPhysics(isGrounded: boolean, actions: Set<Action>): { ay: number, vy?: number } {\n  let dplayer = {}\n  dplayer.ay = 0\n\n  if (actions.has(ActionEnum.JUMP)) dplayer.vy = PLAYER_JUMP_SPEED\n  if (!isGrounded) dplayer.ay = - GRAVITY_ACCEL\n\n  return dplayer\n}\n\nfunction performAccel(character: {vx: number, vy: number, ax: number, ay: number}, dt: number)\n: {vx?: number, vy?: number} {\n  let dvx = character.ax * dt\n  let dvy = character.ay * dt\n  let vx = character.vx + dvx\n  let vy = character.vy + dvy\n\n  if (Math.abs(vx) < Math.abs(dvx)) vx = 0\n  if (Math.abs(vy) < Math.abs(dvy)) vy = 0\n\n  return { vx: vx, vy: vy }\n}\n\nfunction performVelocity(character: {x: number, y: number, vx: number, vy: number}, dt: number)\n: {x?: number, y?: number} {\n  return {\n    x: character.x + character.vx * dt,\n    y: character.y + character.vy * dt\n  }\n}\n\nfunction adjustRoom(character: {x: number, y: number, roomIndex: number}): { x?: number, roomIndex?: number } {\n  if (character.x < 0)\n    return { x: character.x + ROOM_WIDTH, roomIndex: character.roomIndex - 1 }\n\n  if (character.x > ROOM_WIDTH)\n    return { x: character.x - ROOM_WIDTH, roomIndex: character.roomIndex + 1 }\n\n  return {}\n}\n\nfunction clampRoom(character: {roomIndex: number}, numRooms: number): {roomIndex?: number} {\n  let modRoom = character.roomIndex % numRooms\n  return {\n    roomIndex: modRoom >= 0 ? modRoom : modRoom + numRooms\n  }\n}\n\nfunction clampFloor(character: {y: number, vy: number}): {y?: number, vy?: number} {\n  if (character.y < 0.001 && character.vy < 0)\n    return { y: 0, vy: 0 }\n\n  return {}\n}\n\nfunction computeRoomDistance(srcRoom: number, destRoom: number, numRooms: number): number {\n  let dRoom = destRoom - srcRoom\n  while (dRoom < - numRooms * 0.5) dRoom += numRooms\n  while (dRoom > numRooms * 0.5) dRoom -= numRooms\n  return dRoom\n}\n\nfunction rectsOverlap(\n  rect1: {x: number, y: number, width: number, height: number},\n  rect2: {x: number, y: number, width: number, height: number}\n): ?{ dx: number, dy: number } {\n  let dx = rect2.x - rect1.x\n  let dy = rect2.y - rect1.y\n\n  let maxDx = rect1.width * 0.5 + rect2.width * 0.5\n  let maxDy = rect1.height * 0.5 + rect2.height * 0.5\n\n  if (Math.abs(dx) > maxDx || Math.abs(dy) > maxDy) return\n\n  return { dx: dx, dy: dy }\n}\n\nfunction carryPhysics(\n  carrier: {x: number, y: number, vx: number, vy: number, roomIndex: number},\n  carried: {x: number, y: number, vx: number, vy: number, roomIndex: number},\n  direction: Direction\n): { x: number, y: number, vx: number, vy: number, roomIndex: number } {\n  let x = carrier.x\n  let y = carrier.y + PLAYER_HEIGHT * 0.2\n\n  if (direction === DirectionEnum.LEFT) x -= PLAYER_WIDTH * 0.5\n  else x += PLAYER_WIDTH * 0.5\n\n  return { x: x, y: y, vx: carrier.vx, vy: carrier.vy, roomIndex: carrier.roomIndex }\n}\n\nfunction throwPhysics(\n  carrier: { vx: number, vy: number },\n  direction: Direction,\n  actions: Set<Action>\n): { vx: number, vy: number } {\n  let vx = carrier.vx\n  let vy = carrier.vy + PLAYER_THROW_YSPEED\n\n  if (actions.has(ActionEnum.LEFT)) vx -= PLAYER_THROW_XSPEED\n  if (actions.has(ActionEnum.RIGHT)) vx += PLAYER_THROW_XSPEED\n  if (actions.has(ActionEnum.UP)) vy += PLAYER_THROW_XSPEED * 0.5\n\n  if (!actions.a && !actions.d && !actions.w) {\n    if (direction === DirectionEnum.LEFT)  vx -= PLAYER_THROW_XSPEED * 0.5\n    if (direction === DirectionEnum.RIGHT) vx += PLAYER_THROW_XSPEED * 0.5\n  }\n\n  return { vx: vx, vy: vy }\n}\n\nfunction isButtonPressed(button: ButtonComponent): boolean {\n  return button.time < BUTTON_COOLOFF && button.time > 0\n}\n\nfunction isButtonPressable(button: ButtonComponent): boolean {\n  return !isButtonPressed(button)\n}\n\nfunction isSpawnerActive(spawner: SpawnerComponent): boolean {\n  return spawner.time < TELEPORT_COOLOFF && spawner.time > 0\n}\n\nfunction canInteract(\n  player: {x: number, y: number, width: number, height: number, roomIndex: number},\n  playerDirection: Direction,\n  object: {x: number, y: number, width: number, height: number, roomIndex: number}\n): boolean {\n  let overlap = rectsOverlap(player, object)\n  if (!overlap) return false\n\n  let dx = overlap.dx\n  let dy = overlap.dy\n\n  if (playerDirection === DirectionEnum.LEFT)\n    return dx < 0.2\n\n  if (playerDirection === DirectionEnum.RIGHT)\n    return dx > - 0.2\n\n  return false\n}\n\nfunction canPickup(\n  character: Character,\n  playerDirection: Direction,\n  playerGrounded: boolean,\n  crewMember: CrewMember,\n  crewGrounded: boolean\n): boolean {\n  if (!playerGrounded || !crewGrounded)\n    return false\n\n  if (character.roomIndex !== crewMember.roomIndex)\n    return false\n\n  return canInteract(character, playerDirection, crewMember)\n}\n\ntype KeysDown = {[key: string]: boolean}\ntype KeysPressed = Set<string>\n\nlet KEYS_DOWN_MAP = {\n  '37': 'a',\n  '38': 'w',\n  '39': 'd',\n  '40': 's'\n}\nlet KEYS_PRESSED_MAP = {\n  '189': '-',\n  '187': '=',\n  '32': ' ',\n  '13': 'x'\n}\nfunction getChar(e: $.Event, keysMap: {[keyCode: string]: string}) {\n  if (e.keyCode >= 48 && e.keyCode <= 90)\n    return String.fromCharCode(e.keyCode).toLowerCase();\n\n  if (e.keyCode in keysMap)\n    return keysMap[e.keyCode];\n\n  return null;\n}\n\nfunction bindInputs (keysDown: KeysDown, keysPressed: KeysPressed) {\n  $(document).keydown(function (e) {\n    let key = getChar(e, KEYS_DOWN_MAP);\n    if (key) keysDown[key] = true;\n  });\n  $(document).keyup(function (e) {\n    let key = getChar(e, KEYS_DOWN_MAP);\n    if (key) keysDown[key] = false;\n  });\n  $(document).keypress(function (e) {\n    let key = getChar(e, KEYS_PRESSED_MAP);\n    if (key && !keysPressed.has(key)) keysPressed.add(key)\n  });\n}\n\nfunction runLoop(step: (time: number) => number) {\n  let lastTime = Date.now();\n  let frameCount = 0;\n  let frameStart = Date.now();\n\n  let dt = 0.01;\n\n  function loop () {\n    // calculate FPS\n    frameCount += 1\n    if (Date.now() > frameStart + 1000) {\n      console.log(frameCount + \" fps\")\n      frameCount = 0\n      frameStart = Date.now()\n    }\n\n    dt = step(dt)\n    setTimeout(loop, 1000 * dt)\n  };\n\n  loop()\n}\n\nfunction * allCharacters(gameState: GameState): Iterator<Character> {\n  for (let crewMember of gameState.crew) {\n    yield crewMember\n  }\n\n  yield gameState.player\n}\n\n// function * charactersWithComponent(gameState: GameState, kind: string): Iterable<[Character, Component]> {\n//   for (let character of allCharacters(gameState)) {\n//     if (kind in character.components) {\n//       let component = character.components[kind]\n//       if (kind != component.kind)\n//         throw \"Wat, component has wrong type: \" + component.kind + \" != \" + kind\n//\n//       yield [character, character.components[kind]]\n//     }\n//   }\n// }\n\nfunction * characterCarriers(gameState: GameState): Iterable<[Character, CarrierComponent]> {\n  let character: Player = gameState.player\n  let carrier: CarrierComponent = character.carrier\n\n  yield [character, carrier]\n}\n\nfunction * inDepthOrder <O> (entityMap: Utils.AutoMap<O>, depths: Utils.DepthArray)\n: Iterable<O> {\n  for (let id of depths.inOrder()) {\n    if (entityMap.hasKey(id)) {\n      yield entityMap.get(id)\n    }\n  }\n}\n\n$(document).ready(() => {\n  let keysDown: KeysDown = {}\n  let keysPressed: KeysPressed = new Set()\n  bindInputs(keysDown, keysPressed)\n\n  let screenEl = $('#world-canvas')[0]\n  let screen: Canvas.Buffer = Canvas.setupBuffer(screenEl, CANVAS_WIDTH, CANVAS_HEIGHT)\n  let buffer: Canvas.Buffer = Canvas.createBuffer(CANVAS_WIDTH, CANVAS_HEIGHT)\n\n  let gameState = initialGameState()\n\n  let crewMap: Utils.AutoMap<CrewMember> = new Utils.AutoMap(o => o.id, gameState.crew)\n\n  let characterMap: Utils.AutoMap<Character> = new Utils.AutoMap(o => o.id)\n  characterMap.add(gameState.player)\n  characterMap.observe(gameState.crew)\n\n  let furnitureMap: Utils.AutoMap<Furniture> = new Utils.AutoMap(o => o.id)\n  furnitureMap.observe(gameState.furnitures)\n\n  // This gives us automatic randomized depths (i.e. z-distance) for each entity\n  let depths: Utils.DepthArray = new Utils.DepthArray()\n  depths.add(gameState.player.id, 0)\n  depths.observe(gameState.crew, (o) => o.id)\n\n  // characters who can carry other characters\n  let carrierArray: Utils.AutoArray<Character, CarrierComponent> = new Utils.AutoArray(\n    o => o.id,\n    o => Utils.Get(o, 'carrier'));\n  carrierArray.watch(gameState.player)\n  carrierArray.observe(gameState.crew)\n\n  // engineers\n  let engineerArray: Utils.AutoArray<CrewMember, bool> = new Utils.AutoArray(\n    o => o.id,\n    o => o.type === CrewEnum.ENG)\n  engineerArray.observe(gameState.crew)\n\n  // security\n  let securityArray: Utils.AutoArray<CrewMember, bool> = new Utils.AutoArray(\n    o => o.id,\n    o => o.type === CrewEnum.SEC)\n  securityArray.observe(gameState.crew)\n\n  // furnitures that can be interacted with\n  let interactorArray: Utils.AutoArray<Character, InteractorComponent> = new Utils.AutoArray(\n    o => o.id,\n    o => Utils.Get(o, 'interactor'))\n  interactorArray.watch(gameState.player)\n  interactorArray.observe(gameState.crew)\n\n  let buttonArray: Utils.AutoArray<Furniture, ButtonComponent> = new Utils.AutoArray(\n    o => o.id,\n    o => o.button)\n  buttonArray.observe(gameState.furnitures)\n\n  let spawnerArray: Utils.AutoArray<Furniture, SpawnerComponent> = new Utils.AutoArray(\n    o => o.id,\n    o => o.spawner)\n  spawnerArray.observe(gameState.furnitures)\n\n  let time = 0\n  let step = (dt) => {\n    time += dt\n\n    let rooms = gameState.rooms\n\n    for (let character of allCharacters(gameState)) {\n      let actor: ActorComponent = character.actor\n      actor.actions.clear()\n    }\n\n    { // player actions\n      let player = gameState.player\n      let actor: ActorComponent = player.actor\n\n      // actions: wasd\n      actor.actions = thinkPlayerLocomotion(keysDown, canJump(player))\n\n      // actions: carry or throw\n      if (keysPressed.has(' ')) {\n        actor.actions.add(ActionEnum.ACT)\n        keysPressed.delete(' ')\n      }\n    }\n\n    // engineer actions\n    for (let character of gameState.crew) {\n      let ai: AIComponent = character.ai\n      let actor: ActorComponent = character.actor\n\n      ai.nextThink -= dt\n\n      // not time to think yet\n      if (ai.nextThink > 0) {\n        for (let action of ai.actions) {\n          actor.actions.add(action)\n        }\n      } else {\n        let choice = Math.random()\n        if (choice < 0.2) {\n          ai.actions = [ActionEnum.SLOW_LEFT]\n          ai.nextThink = Math.random() + 0.5\n        } else if (choice < 0.4) {\n          ai.actions = [ActionEnum.SLOW_RIGHT]\n          ai.nextThink = Math.random() + 0.5\n        } else {\n          ai.actions = []\n          ai.nextThink = Math.random() + 0.75\n        }\n      }\n    }\n\n    // figure out if character can pick up any crew members\n    for (let [character, carrier] of carrierArray.all()) {\n      let animation: CharacterAnimationComponent = character.animation\n      let actor: ActorComponent                  = character.actor\n\n      // skip if there's no carrying action\n      if (!actor.actions.has(ActionEnum.ACT)) continue\n\n      // shouldn't be already carrying something\n      if (carrier.carrying) continue\n\n      // shouldn't be in the air\n      if (!isGrounded(character)) continue\n\n      for (let crewMember of inDepthOrder(crewMap, depths)) {\n        let pickup = canPickup(\n          character, animation.direction, isGrounded(character),\n          crewMember, isGrounded(crewMember))\n\n        // pickup the crew member!\n        if (pickup) {\n          Object.assign(carrier, { carrying: crewMember.id })\n          depths.update(crewMember.id, -0.05)\n          actor.actions.delete(ActionEnum.ACT)\n          break\n        }\n      }\n    }\n\n    // handle carrying & throwing\n    for (let [character, carrier] of carrierArray.all()) {\n      let animation: CharacterAnimationComponent = character.animation\n      let actor: ActorComponent                  = character.actor\n\n      // move carried object\n      if (carrier.carrying) {\n        let characterDir = animation.direction\n        let carriedEntity = characterMap.get(carrier.carrying)\n        Object.assign(carriedEntity, carryPhysics(character, carriedEntity, characterDir))\n      }\n\n      // throw object\n      if (carrier.carrying && actor.actions.has(ActionEnum.ACT)) {\n        let characterDir = animation.direction\n        let otherCharacter = characterMap.get(carrier.carrying)\n        Object.assign(otherCharacter, throwPhysics(character, characterDir, actor.actions))\n        Object.assign(carrier, { carrying: undefined })\n        depths.update(otherCharacter.id)\n        actor.actions.delete(ActionEnum.ACT)\n      }\n    }\n\n    // figure out if there are buttons to be pressed\n    for (let [character, interactor] of interactorArray.all()) {\n      let animation: CharacterAnimationComponent = character.animation\n      let actor: ActorComponent                  = character.actor\n      let characterDir = animation.direction\n\n      // skip if there's no carrying action\n      if (!actor.actions.has(ActionEnum.ACT)) continue\n\n      // loop through buttons\n      for (let [furniture, button] of buttonArray.all()) {\n        console.log(button)\n        if (isButtonPressable(button) && canInteract(character, characterDir, {y: FURNITURE_HEIGHT, ...furniture})) {\n          button.time = 0\n          let buttonEvent = button.eventToFire\n          let buttonAffects = button.notify\n\n          // it's a spawn event!\n          if (Utils.hasValue(SpawnEventEnum, buttonEvent)) {\n            // notify other furniture\n            let affectedFurniture = furnitureMap.get(buttonAffects)\n            let spawner: ?SpawnerComponent = affectedFurniture.spawner\n            if (spawner == null) throw 'Wat, bad spawner'\n\n            spawner.events.push(buttonEvent)\n            spawner.time = 0\n            actor.actions.delete(ActionEnum.ACT)\n            break\n          }\n        }\n      }\n    }\n\n    // spawn characters\n    for (let [furniture, spawner] of spawnerArray.all()) {\n      while (spawner.events.length > 0) {\n        let event = spawner.events.pop()\n        let obj = spawner.spawn(event)\n        if (obj.kind === 'crew') gameState.crew.push(obj)\n      }\n    }\n\n    // increment furniture times\n    for (let [furniture, button] of buttonArray.all()) {\n      if (button.time >= 0)\n        button.time += dt\n    }\n\n    for (let [furniture, spawner] of spawnerArray.all()) {\n      if (spawner.time >= 0)\n        spawner.time += dt\n    }\n\n    // handle character physics\n    for (let character of allCharacters(gameState)) {\n      let actor: ActorComponent = character.actor\n\n      Object.assign(character, horizontalCharacterPhysics(character, actor.actions, isGrounded(character)))\n      Object.assign(character, verticalCharacterPhysics(isGrounded(character), actor.actions))\n    }\n\n    // generate list of carried characters\n    let carried: Set<string> = new Set()\n    for (let [character, carrier] of carrierArray.all()) {\n      if (carrier.carrying) {\n        carried.add(carrier.carrying)\n      }\n    }\n    let isCarried = (id) => carried.has(id)\n\n    // handle animation\n    for (let character of allCharacters(gameState)) {\n      let animation: CharacterAnimationComponent = character.animation\n\n      Object.assign(\n        animation,\n        characterAnimation(\n          animation,\n          character,\n          isGrounded(character),\n          isCarried(character.id),\n          dt\n        )\n      )\n    }\n\n    // handle world physics\n    for (let character of allCharacters(gameState)) {\n      Object.assign(character, performAccel(character, DT))\n      Object.assign(character, performVelocity(character, DT))\n      Object.assign(character, adjustRoom(character))\n      Object.assign(character, clampRoom(character, rooms.length))\n      Object.assign(character, clampFloor(character))\n    }\n\n    // active area\n    let activeRoom = gameState.player.roomIndex\n\n    // generate sprites\n    let sprites: {[id: string]: Array<Sprite>} = {}\n    for (let character: Character of allCharacters(gameState)) {\n      let animation: CharacterAnimationComponent = character.animation\n\n      let dRoom = computeRoomDistance(\n        character.roomIndex,\n        activeRoom,\n        rooms.length)\n\n      if (!shouldDrawCharacter(character, dRoom, ROOM_WIDTH))\n        continue\n\n      let image = computeAnimationImage(animation, getOrientedAnimationMap(character))\n      let color = getCharacterColor(character)\n      let recolor: ?Recolor = computeImageRecolor(character)\n      let scale = computeImageScale(character)\n\n      let characterRect = generateCharacterRect(character)\n      characterRect = adjustRectForRoom(characterRect, dRoom, ROOM_WIDTH)\n      characterRect = adjustRectForScale(characterRect, scale)\n\n      let shadowOpacity = generateShadowOpacity(character)\n      let shadowRect = adjustRectForRoom(\n        generateShadowRect(character), dRoom, ROOM_WIDTH)\n\n      sprites[character.id] = [\n        generateShadowSprite(character.id, shadowOpacity, shadowRect),\n        generateCharacterSprite(character.id, image, color, characterRect, recolor)\n      ]\n    }\n\n    // adjust the depth of the sprites\n    for (let id of Object.keys(sprites)) {\n      for (let sprite of sprites[id] || []) {\n        let height = FLOOR_HEIGHT + depths.depth(id) * 0.14\n        Object.assign(sprite, adjustFloorHeight(sprite, height))\n      }\n    }\n\n    // draw the background\n    Canvas.drawBackground(buffer,\n      computeRoomColor(gameState.rooms[activeRoom]))\n\n    // draw the floor\n    Canvas.drawRect(buffer, '#ccc',\n      transformRectToPixels({ x0: 0, y0: 0, x1: ROOM_WIDTH, y1: WALL_START_HEIGHT + 0.05 }))\n    Canvas.drawRect(buffer, computeFloorColor(gameState.rooms[activeRoom]),\n      transformRectToPixels({ x0: 0, y0: 0, x1: ROOM_WIDTH, y1: WALL_START_HEIGHT }))\n\n    let drawFurniture = (furniture: Furniture) => {\n      if (furniture.roomIndex != activeRoom) return\n      let image = generateFurnitureImage(furniture, time)\n      let rect = transformRectToPixels(generateFurnitureRect(furniture))\n      Canvas.drawImage(buffer, image, rect, {})\n    }\n\n    // draw the background furnitures\n    for (let furniture of gameState.furnitures) {\n      if (furniture.foreground !== true)\n        drawFurniture(furniture)\n    }\n\n    // draw the sprites in reverse depth order\n    for (let id of depths.inReverseOrder()) {\n      for (let sprite of sprites[id] || []) {\n        if (sprite.image === undefined)\n          Canvas.drawRect(buffer, sprite.color, transformRectToPixels(sprite))\n        else\n          Canvas.drawImage(buffer, sprite.image, transformRectToPixels(sprite), sprite)\n      }\n    }\n\n    // draw the foreground furnitures\n    for (let furniture of gameState.furnitures) {\n      if (furniture.foreground === true)\n        drawFurniture(furniture)\n    }\n\n    Canvas.drawBuffer(screen, buffer)\n    return DT\n  }\n\n  runLoop(step)\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/entry.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/keys.js\n ** module id = 1\n ** module chunks = 0\n **/","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/fn/object/keys.js\n ** module id = 2\n ** module chunks = 0\n **/","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object')\n  , $keys    = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function(){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/es6.object.keys.js\n ** module id = 3\n ** module chunks = 0\n **/","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_to-object.js\n ** module id = 4\n ** module chunks = 0\n **/","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_defined.js\n ** module id = 5\n ** module chunks = 0\n **/","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\r\nvar $keys       = require('./_object-keys-internal')\r\n  , enumBugKeys = require('./_enum-bug-keys');\r\n\r\nmodule.exports = Object.keys || function keys(O){\r\n  return $keys(O, enumBugKeys);\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_object-keys.js\n ** module id = 6\n ** module chunks = 0\n **/","var has          = require('./_has')\r\n  , toIObject    = require('./_to-iobject')\r\n  , arrayIndexOf = require('./_array-includes')(false)\r\n  , IE_PROTO     = require('./_shared-key')('IE_PROTO');\r\n\r\nmodule.exports = function(object, names){\r\n  var O      = toIObject(object)\r\n    , i      = 0\r\n    , result = []\r\n    , key;\r\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\r\n  // Don't enum bug & hidden keys\r\n  while(names.length > i)if(has(O, key = names[i++])){\r\n    ~arrayIndexOf(result, key) || result.push(key);\r\n  }\r\n  return result;\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_object-keys-internal.js\n ** module id = 7\n ** module chunks = 0\n **/","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_has.js\n ** module id = 8\n ** module chunks = 0\n **/","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject')\n  , defined = require('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_to-iobject.js\n ** module id = 9\n ** module chunks = 0\n **/","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_iobject.js\n ** module id = 10\n ** module chunks = 0\n **/","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_cof.js\n ** module id = 11\n ** module chunks = 0\n **/","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length')\n  , toIndex   = require('./_to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_array-includes.js\n ** module id = 12\n ** module chunks = 0\n **/","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_to-length.js\n ** module id = 13\n ** module chunks = 0\n **/","// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_to-integer.js\n ** module id = 14\n ** module chunks = 0\n **/","var toInteger = require('./_to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_to-index.js\n ** module id = 15\n ** module chunks = 0\n **/","var shared = require('./_shared')('keys')\r\n  , uid    = require('./_uid');\r\nmodule.exports = function(key){\r\n  return shared[key] || (shared[key] = uid(key));\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_shared-key.js\n ** module id = 16\n ** module chunks = 0\n **/","var global = require('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_shared.js\n ** module id = 17\n ** module chunks = 0\n **/","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_global.js\n ** module id = 18\n ** module chunks = 0\n **/","var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_uid.js\n ** module id = 19\n ** module chunks = 0\n **/","// IE 8- don't enum bug keys\r\nmodule.exports = (\r\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\r\n).split(',');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_enum-bug-keys.js\n ** module id = 20\n ** module chunks = 0\n **/","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export')\n  , core    = require('./_core')\n  , fails   = require('./_fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_object-sap.js\n ** module id = 21\n ** module chunks = 0\n **/","var global    = require('./_global')\n  , core      = require('./_core')\n  , ctx       = require('./_ctx')\n  , hide      = require('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_export.js\n ** module id = 22\n ** module chunks = 0\n **/","var core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_core.js\n ** module id = 23\n ** module chunks = 0\n **/","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_ctx.js\n ** module id = 24\n ** module chunks = 0\n **/","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_a-function.js\n ** module id = 25\n ** module chunks = 0\n **/","var dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_hide.js\n ** module id = 26\n ** module chunks = 0\n **/","var anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_object-dp.js\n ** module id = 27\n ** module chunks = 0\n **/","var isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_an-object.js\n ** module id = 28\n ** module chunks = 0\n **/","module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_is-object.js\n ** module id = 29\n ** module chunks = 0\n **/","module.exports = !require('./_descriptors') && !require('./_fails')(function(){\r\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_ie8-dom-define.js\n ** module id = 30\n ** module chunks = 0\n **/","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_descriptors.js\n ** module id = 31\n ** module chunks = 0\n **/","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_fails.js\n ** module id = 32\n ** module chunks = 0\n **/","var isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_dom-create.js\n ** module id = 33\n ** module chunks = 0\n **/","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_to-primitive.js\n ** module id = 34\n ** module chunks = 0\n **/","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_property-desc.js\n ** module id = 35\n ** module chunks = 0\n **/","\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/extends.js\n ** module id = 36\n ** module chunks = 0\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/assign.js\n ** module id = 37\n ** module chunks = 0\n **/","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/fn/object/assign.js\n ** module id = 38\n ** module chunks = 0\n **/","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', {assign: require('./_object-assign')});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/es6.object.assign.js\n ** module id = 39\n ** module chunks = 0\n **/","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys  = require('./_object-keys')\n  , gOPS     = require('./_object-gops')\n  , pIE      = require('./_object-pie')\n  , toObject = require('./_to-object')\n  , IObject  = require('./_iobject')\n  , $assign  = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function(){\n  var A = {}\n    , B = {}\n    , S = Symbol()\n    , K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function(k){ B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source){ // eslint-disable-line no-unused-vars\n  var T     = toObject(target)\n    , aLen  = arguments.length\n    , index = 1\n    , getSymbols = gOPS.f\n    , isEnum     = pIE.f;\n  while(aLen > index){\n    var S      = IObject(arguments[index++])\n      , keys   = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S)\n      , length = keys.length\n      , j      = 0\n      , key;\n    while(length > j)if(isEnum.call(S, key = keys[j++]))T[key] = S[key];\n  } return T;\n} : $assign;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_object-assign.js\n ** module id = 40\n ** module chunks = 0\n **/","exports.f = Object.getOwnPropertySymbols;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_object-gops.js\n ** module id = 41\n ** module chunks = 0\n **/","exports.f = {}.propertyIsEnumerable;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_object-pie.js\n ** module id = 42\n ** module chunks = 0\n **/","\"use strict\";\n\nexports.__esModule = true;\n\nvar _isIterable2 = require(\"../core-js/is-iterable\");\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = require(\"../core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/slicedToArray.js\n ** module id = 43\n ** module chunks = 0\n **/","module.exports = { \"default\": require(\"core-js/library/fn/is-iterable\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/is-iterable.js\n ** module id = 44\n ** module chunks = 0\n **/","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/fn/is-iterable.js\n ** module id = 45\n ** module chunks = 0\n **/","require('./es6.array.iterator');\nvar global        = require('./_global')\n  , hide          = require('./_hide')\n  , Iterators     = require('./_iterators')\n  , TO_STRING_TAG = require('./_wks')('toStringTag');\n\nfor(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){\n  var NAME       = collections[i]\n    , Collection = global[NAME]\n    , proto      = Collection && Collection.prototype;\n  if(proto && !proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/web.dom.iterable.js\n ** module id = 46\n ** module chunks = 0\n **/","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables')\n  , step             = require('./_iter-step')\n  , Iterators        = require('./_iterators')\n  , toIObject        = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/es6.array.iterator.js\n ** module id = 47\n ** module chunks = 0\n **/","module.exports = function(){ /* empty */ };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_add-to-unscopables.js\n ** module id = 48\n ** module chunks = 0\n **/","module.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_iter-step.js\n ** module id = 49\n ** module chunks = 0\n **/","module.exports = {};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_iterators.js\n ** module id = 50\n ** module chunks = 0\n **/","'use strict';\nvar LIBRARY        = require('./_library')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , hide           = require('./_hide')\n  , has            = require('./_has')\n  , Iterators      = require('./_iterators')\n  , $iterCreate    = require('./_iter-create')\n  , setToStringTag = require('./_set-to-string-tag')\n  , getPrototypeOf = require('./_object-gpo')\n  , ITERATOR       = require('./_wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined\n    , $anyNative = NAME == 'Array' ? proto.entries || $native : $native\n    , methods, key, IteratorPrototype;\n  // Fix native\n  if($anyNative){\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));\n    if(IteratorPrototype !== Object.prototype){\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if(DEF_VALUES && $native && $native.name !== VALUES){\n    VALUES_BUG = true;\n    $default = function values(){ return $native.call(this); };\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES ? $default : getMethod(VALUES),\n      keys:    IS_SET     ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_iter-define.js\n ** module id = 51\n ** module chunks = 0\n **/","module.exports = true;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_library.js\n ** module id = 52\n ** module chunks = 0\n **/","module.exports = require('./_hide');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_redefine.js\n ** module id = 53\n ** module chunks = 0\n **/","'use strict';\nvar create         = require('./_object-create')\n  , descriptor     = require('./_property-desc')\n  , setToStringTag = require('./_set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_iter-create.js\n ** module id = 54\n ** module chunks = 0\n **/","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\r\nvar anObject    = require('./_an-object')\r\n  , dPs         = require('./_object-dps')\r\n  , enumBugKeys = require('./_enum-bug-keys')\r\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\r\n  , Empty       = function(){ /* empty */ }\r\n  , PROTOTYPE   = 'prototype';\r\n\r\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\r\nvar createDict = function(){\r\n  // Thrash, waste and sodomy: IE GC bug\r\n  var iframe = require('./_dom-create')('iframe')\r\n    , i      = enumBugKeys.length\r\n    , gt     = '>'\r\n    , iframeDocument;\r\n  iframe.style.display = 'none';\r\n  require('./_html').appendChild(iframe);\r\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\r\n  // createDict = iframe.contentWindow.Object;\r\n  // html.removeChild(iframe);\r\n  iframeDocument = iframe.contentWindow.document;\r\n  iframeDocument.open();\r\n  iframeDocument.write('<script>document.F=Object</script' + gt);\r\n  iframeDocument.close();\r\n  createDict = iframeDocument.F;\r\n  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];\r\n  return createDict();\r\n};\r\n\r\nmodule.exports = Object.create || function create(O, Properties){\r\n  var result;\r\n  if(O !== null){\r\n    Empty[PROTOTYPE] = anObject(O);\r\n    result = new Empty;\r\n    Empty[PROTOTYPE] = null;\r\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\r\n    result[IE_PROTO] = O;\r\n  } else result = createDict();\r\n  return Properties === undefined ? result : dPs(result, Properties);\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_object-create.js\n ** module id = 55\n ** module chunks = 0\n **/","var dP       = require('./_object-dp')\r\n  , anObject = require('./_an-object')\r\n  , getKeys  = require('./_object-keys');\r\n\r\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties){\r\n  anObject(O);\r\n  var keys   = getKeys(Properties)\r\n    , length = keys.length\r\n    , i = 0\r\n    , P;\r\n  while(length > i)dP.f(O, P = keys[i++], Properties[P]);\r\n  return O;\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_object-dps.js\n ** module id = 56\n ** module chunks = 0\n **/","module.exports = require('./_global').document && document.documentElement;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_html.js\n ** module id = 57\n ** module chunks = 0\n **/","var def = require('./_object-dp').f\n  , has = require('./_has')\n  , TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_set-to-string-tag.js\n ** module id = 58\n ** module chunks = 0\n **/","var store      = require('./_shared')('wks')\n  , uid        = require('./_uid')\n  , Symbol     = require('./_global').Symbol\n  , USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function(name){\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_wks.js\n ** module id = 59\n ** module chunks = 0\n **/","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\r\nvar has         = require('./_has')\r\n  , toObject    = require('./_to-object')\r\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\r\n  , ObjectProto = Object.prototype;\r\n\r\nmodule.exports = Object.getPrototypeOf || function(O){\r\n  O = toObject(O);\r\n  if(has(O, IE_PROTO))return O[IE_PROTO];\r\n  if(typeof O.constructor == 'function' && O instanceof O.constructor){\r\n    return O.constructor.prototype;\r\n  } return O instanceof Object ? ObjectProto : null;\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_object-gpo.js\n ** module id = 60\n ** module chunks = 0\n **/","'use strict';\nvar $at  = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/es6.string.iterator.js\n ** module id = 61\n ** module chunks = 0\n **/","var toInteger = require('./_to-integer')\n  , defined   = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_string-at.js\n ** module id = 62\n ** module chunks = 0\n **/","var classof   = require('./_classof')\n  , ITERATOR  = require('./_wks')('iterator')\n  , Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function(it){\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    || Iterators.hasOwnProperty(classof(O));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/core.is-iterable.js\n ** module id = 63\n ** module chunks = 0\n **/","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof')\n  , TAG = require('./_wks')('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function(it, key){\n  try {\n    return it[key];\n  } catch(e){ /* empty */ }\n};\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_classof.js\n ** module id = 64\n ** module chunks = 0\n **/","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/get-iterator.js\n ** module id = 65\n ** module chunks = 0\n **/","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/fn/get-iterator.js\n ** module id = 66\n ** module chunks = 0\n **/","var anObject = require('./_an-object')\n  , get      = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function(it){\n  var iterFn = get(it);\n  if(typeof iterFn != 'function')throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/core.get-iterator.js\n ** module id = 67\n ** module chunks = 0\n **/","var classof   = require('./_classof')\n  , ITERATOR  = require('./_wks')('iterator')\n  , Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/core.get-iterator-method.js\n ** module id = 68\n ** module chunks = 0\n **/","module.exports = require(\"regenerator-runtime\");\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/regenerator/index.js\n ** module id = 69\n ** module chunks = 0\n **/","// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g =\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this;\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/regenerator-runtime/runtime-module.js\n ** module id = 70\n ** module chunks = 0\n **/","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var hasOwn = Object.prototype.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided, then outerFn.prototype instanceof Generator.\n    var generator = Object.create((outerFn || Generator).prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype;\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `value instanceof AwaitArgument` to determine if the yielded value is\n  // meant to be awaited. Some may consider the name of this method too\n  // cutesy, but they are curmudgeons.\n  runtime.awrap = function(arg) {\n    return new AwaitArgument(arg);\n  };\n\n  function AwaitArgument(arg) {\n    this.arg = arg;\n  }\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value instanceof AwaitArgument) {\n          return Promise.resolve(value.arg).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    if (typeof process === \"object\" && process.domain) {\n      invoke = process.domain.bind(invoke);\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          if (method === \"return\" ||\n              (method === \"throw\" && delegate.iterator[method] === undefined)) {\n            // A return or throw (when the delegate iterator has no throw\n            // method) always terminates the yield* loop.\n            context.delegate = null;\n\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            var returnMethod = delegate.iterator[\"return\"];\n            if (returnMethod) {\n              var record = tryCatch(returnMethod, delegate.iterator, arg);\n              if (record.type === \"throw\") {\n                // If the return method threw an exception, let that\n                // exception prevail over the original return or throw.\n                method = \"throw\";\n                arg = record.arg;\n                continue;\n              }\n            }\n\n            if (method === \"return\") {\n              // Continue with the outer return, now that the delegate\n              // iterator has been terminated.\n              continue;\n            }\n          }\n\n          var record = tryCatch(\n            delegate.iterator[method],\n            delegate.iterator,\n            arg\n          );\n\n          if (record.type === \"throw\") {\n            context.delegate = null;\n\n            // Like returning generator.throw(uncaught), but without the\n            // overhead of an extra function call.\n            method = \"throw\";\n            arg = record.arg;\n            continue;\n          }\n\n          // Delegate generator ran and handled its own exceptions so\n          // regardless of what the method was, we continue as if it is\n          // \"next\" with an undefined arg.\n          method = \"next\";\n          arg = undefined;\n\n          var info = record.arg;\n          if (info.done) {\n            context[delegate.resultName] = info.value;\n            context.next = delegate.nextLoc;\n          } else {\n            state = GenStateSuspendedYield;\n            return info;\n          }\n\n          context.delegate = null;\n        }\n\n        if (method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = arg;\n\n        } else if (method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw arg;\n          }\n\n          if (context.dispatchException(arg)) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            method = \"next\";\n            arg = undefined;\n          }\n\n        } else if (method === \"return\") {\n          context.abrupt(\"return\", arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          var info = {\n            value: record.arg,\n            done: context.done\n          };\n\n          if (record.arg === ContinueSentinel) {\n            if (context.delegate && method === \"next\") {\n              // Deliberately forget the last sent value so that we don't\n              // accidentally pass it on to the delegate.\n              arg = undefined;\n            }\n          } else {\n            return info;\n          }\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(arg) call above.\n          method = \"throw\";\n          arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.next = finallyEntry.finallyLoc;\n      } else {\n        this.complete(record);\n      }\n\n      return ContinueSentinel;\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = record.arg;\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this\n);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/regenerator-runtime/runtime.js\n ** module id = 71\n ** module chunks = 0\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/process/browser.js\n ** module id = 72\n ** module chunks = 0\n **/","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/array/from.js\n ** module id = 73\n ** module chunks = 0\n **/","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/fn/array/from.js\n ** module id = 74\n ** module chunks = 0\n **/","'use strict';\nvar ctx            = require('./_ctx')\n  , $export        = require('./_export')\n  , toObject       = require('./_to-object')\n  , call           = require('./_iter-call')\n  , isArrayIter    = require('./_is-array-iter')\n  , toLength       = require('./_to-length')\n  , createProperty = require('./_create-property')\n  , getIterFn      = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function(iter){ Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike/*, mapfn = undefined, thisArg = undefined*/){\n    var O       = toObject(arrayLike)\n      , C       = typeof this == 'function' ? this : Array\n      , aLen    = arguments.length\n      , mapfn   = aLen > 1 ? arguments[1] : undefined\n      , mapping = mapfn !== undefined\n      , index   = 0\n      , iterFn  = getIterFn(O)\n      , length, result, step, iterator;\n    if(mapping)mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if(iterFn != undefined && !(C == Array && isArrayIter(iterFn))){\n      for(iterator = iterFn.call(O), result = new C; !(step = iterator.next()).done; index++){\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for(result = new C(length); length > index; index++){\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/es6.array.from.js\n ** module id = 75\n ** module chunks = 0\n **/","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_iter-call.js\n ** module id = 76\n ** module chunks = 0\n **/","// check on default Array iterator\nvar Iterators  = require('./_iterators')\n  , ITERATOR   = require('./_wks')('iterator')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_is-array-iter.js\n ** module id = 77\n ** module chunks = 0\n **/","'use strict';\r\nvar $defineProperty = require('./_object-dp')\r\n  , createDesc      = require('./_property-desc');\r\n\r\nmodule.exports = function(object, index, value){\r\n  if(index in object)$defineProperty.f(object, index, createDesc(0, value));\r\n  else object[index] = value;\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_create-property.js\n ** module id = 78\n ** module chunks = 0\n **/","var ITERATOR     = require('./_wks')('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ return {done: safe = true}; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_iter-detect.js\n ** module id = 79\n ** module chunks = 0\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/values\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/values.js\n ** module id = 80\n ** module chunks = 0\n **/","require('../../modules/es7.object.values');\nmodule.exports = require('../../modules/_core').Object.values;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/fn/object/values.js\n ** module id = 81\n ** module chunks = 0\n **/","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export')\n  , $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it){\n    return $values(it);\n  }\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/es7.object.values.js\n ** module id = 82\n ** module chunks = 0\n **/","var getKeys   = require('./_object-keys')\n  , toIObject = require('./_to-iobject')\n  , isEnum    = require('./_object-pie').f;\nmodule.exports = function(isEntries){\n  return function(it){\n    var O      = toIObject(it)\n      , keys   = getKeys(O)\n      , length = keys.length\n      , i      = 0\n      , result = []\n      , key;\n    while(length > i)if(isEnum.call(O, key = keys[i++])){\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_object-to-array.js\n ** module id = 83\n ** module chunks = 0\n **/","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/defineProperty.js\n ** module id = 84\n ** module chunks = 0\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/define-property.js\n ** module id = 85\n ** module chunks = 0\n **/","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/fn/object/define-property.js\n ** module id = 86\n ** module chunks = 0\n **/","var $export = require('./_export');\r\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\r\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperty: require('./_object-dp').f});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/es6.object.define-property.js\n ** module id = 87\n ** module chunks = 0\n **/","module.exports = { \"default\": require(\"core-js/library/fn/set\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/set.js\n ** module id = 88\n ** module chunks = 0\n **/","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.set');\nrequire('../modules/es7.set.to-json');\nmodule.exports = require('../modules/_core').Set;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/fn/set.js\n ** module id = 89\n ** module chunks = 0\n **/","'use strict';\nvar strong = require('./_collection-strong');\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')('Set', function(get){\n  return function Set(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value){\n    return strong.def(this, value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/es6.set.js\n ** module id = 91\n ** module chunks = 0\n **/","'use strict';\nvar dP          = require('./_object-dp').f\n  , create      = require('./_object-create')\n  , hide        = require('./_hide')\n  , redefineAll = require('./_redefine-all')\n  , ctx         = require('./_ctx')\n  , anInstance  = require('./_an-instance')\n  , defined     = require('./_defined')\n  , forOf       = require('./_for-of')\n  , $iterDefine = require('./_iter-define')\n  , step        = require('./_iter-step')\n  , setSpecies  = require('./_set-species')\n  , DESCRIPTORS = require('./_descriptors')\n  , fastKey     = require('./_meta').fastKey\n  , SIZE        = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function(that, key){\n  // fast case\n  var index = fastKey(key), entry;\n  if(index !== 'F')return that._i[index];\n  // frozen object case\n  for(entry = that._f; entry; entry = entry.n){\n    if(entry.k == key)return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function(wrapper, NAME, IS_MAP, ADDER){\n    var C = wrapper(function(that, iterable){\n      anInstance(that, C, NAME, '_i');\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear(){\n        for(var that = this, data = that._i, entry = that._f; entry; entry = entry.n){\n          entry.r = true;\n          if(entry.p)entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function(key){\n        var that  = this\n          , entry = getEntry(that, key);\n        if(entry){\n          var next = entry.n\n            , prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if(prev)prev.n = next;\n          if(next)next.p = prev;\n          if(that._f == entry)that._f = next;\n          if(that._l == entry)that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /*, that = undefined */){\n        anInstance(this, C, 'forEach');\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3)\n          , entry;\n        while(entry = entry ? entry.n : this._f){\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while(entry && entry.r)entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key){\n        return !!getEntry(this, key);\n      }\n    });\n    if(DESCRIPTORS)dP(C.prototype, 'size', {\n      get: function(){\n        return defined(this[SIZE]);\n      }\n    });\n    return C;\n  },\n  def: function(that, key, value){\n    var entry = getEntry(that, key)\n      , prev, index;\n    // change existing entry\n    if(entry){\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if(!that._f)that._f = entry;\n      if(prev)prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if(index !== 'F')that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function(C, NAME, IS_MAP){\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function(iterated, kind){\n      this._t = iterated;  // target\n      this._k = kind;      // kind\n      this._l = undefined; // previous\n    }, function(){\n      var that  = this\n        , kind  = that._k\n        , entry = that._l;\n      // revert to the last existing entry\n      while(entry && entry.r)entry = entry.p;\n      // get next entry\n      if(!that._t || !(that._l = entry = entry ? entry.n : that._t._f)){\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if(kind == 'keys'  )return step(0, entry.k);\n      if(kind == 'values')return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values' , !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_collection-strong.js\n ** module id = 92\n ** module chunks = 0\n **/","var hide = require('./_hide');\nmodule.exports = function(target, src, safe){\n  for(var key in src){\n    if(safe && target[key])target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_redefine-all.js\n ** module id = 93\n ** module chunks = 0\n **/","module.exports = function(it, Constructor, name, forbiddenField){\n  if(!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)){\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_an-instance.js\n ** module id = 94\n ** module chunks = 0\n **/","var ctx         = require('./_ctx')\n  , call        = require('./_iter-call')\n  , isArrayIter = require('./_is-array-iter')\n  , anObject    = require('./_an-object')\n  , toLength    = require('./_to-length')\n  , getIterFn   = require('./core.get-iterator-method')\n  , BREAK       = {}\n  , RETURN      = {};\nvar exports = module.exports = function(iterable, entries, fn, that, ITERATOR){\n  var iterFn = ITERATOR ? function(){ return iterable; } : getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator, result;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if(result === BREAK || result === RETURN)return result;\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    result = call(iterator, f, step.value, entries);\n    if(result === BREAK || result === RETURN)return result;\n  }\n};\nexports.BREAK  = BREAK;\nexports.RETURN = RETURN;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_for-of.js\n ** module id = 95\n ** module chunks = 0\n **/","'use strict';\nvar global      = require('./_global')\n  , core        = require('./_core')\n  , dP          = require('./_object-dp')\n  , DESCRIPTORS = require('./_descriptors')\n  , SPECIES     = require('./_wks')('species');\n\nmodule.exports = function(KEY){\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])dP.f(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_set-species.js\n ** module id = 96\n ** module chunks = 0\n **/","var META     = require('./_uid')('meta')\n  , isObject = require('./_is-object')\n  , has      = require('./_has')\n  , setDesc  = require('./_object-dp').f\n  , id       = 0;\nvar isExtensible = Object.isExtensible || function(){\n  return true;\n};\nvar FREEZE = !require('./_fails')(function(){\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function(it){\n  setDesc(it, META, {value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  }});\n};\nvar fastKey = function(it, create){\n  // return primitive with prefix\n  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return 'F';\n    // not necessary to add metadata\n    if(!create)return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function(it, create){\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return true;\n    // not necessary to add metadata\n    if(!create)return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function(it){\n  if(FREEZE && meta.NEED && isExtensible(it) && !has(it, META))setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY:      META,\n  NEED:     false,\n  fastKey:  fastKey,\n  getWeak:  getWeak,\n  onFreeze: onFreeze\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_meta.js\n ** module id = 97\n ** module chunks = 0\n **/","'use strict';\nvar global         = require('./_global')\n  , $export        = require('./_export')\n  , meta           = require('./_meta')\n  , fails          = require('./_fails')\n  , hide           = require('./_hide')\n  , redefineAll    = require('./_redefine-all')\n  , forOf          = require('./_for-of')\n  , anInstance     = require('./_an-instance')\n  , isObject       = require('./_is-object')\n  , setToStringTag = require('./_set-to-string-tag')\n  , dP             = require('./_object-dp').f\n  , each           = require('./_array-methods')(0)\n  , DESCRIPTORS    = require('./_descriptors');\n\nmodule.exports = function(NAME, wrapper, methods, common, IS_MAP, IS_WEAK){\n  var Base  = global[NAME]\n    , C     = Base\n    , ADDER = IS_MAP ? 'set' : 'add'\n    , proto = C && C.prototype\n    , O     = {};\n  if(!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function(){\n    new C().entries().next();\n  }))){\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    C = wrapper(function(target, iterable){\n      anInstance(target, C, NAME, '_c');\n      target._c = new Base;\n      if(iterable != undefined)forOf(iterable, IS_MAP, target[ADDER], target);\n    });\n    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','),function(KEY){\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if(KEY in proto && !(IS_WEAK && KEY == 'clear'))hide(C.prototype, KEY, function(a, b){\n        anInstance(this, C, KEY);\n        if(!IS_ADDER && IS_WEAK && !isObject(a))return KEY == 'get' ? undefined : false;\n        var result = this._c[KEY](a === 0 ? 0 : a, b);\n        return IS_ADDER ? this : result;\n      });\n    });\n    if('size' in proto)dP(C.prototype, 'size', {\n      get: function(){\n        return this._c.size;\n      }\n    });\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F, O);\n\n  if(!IS_WEAK)common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_collection.js\n ** module id = 98\n ** module chunks = 0\n **/","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx      = require('./_ctx')\n  , IObject  = require('./_iobject')\n  , toObject = require('./_to-object')\n  , toLength = require('./_to-length')\n  , asc      = require('./_array-species-create');\nmodule.exports = function(TYPE, $create){\n  var IS_MAP        = TYPE == 1\n    , IS_FILTER     = TYPE == 2\n    , IS_SOME       = TYPE == 3\n    , IS_EVERY      = TYPE == 4\n    , IS_FIND_INDEX = TYPE == 6\n    , NO_HOLES      = TYPE == 5 || IS_FIND_INDEX\n    , create        = $create || asc;\n  return function($this, callbackfn, that){\n    var O      = toObject($this)\n      , self   = IObject(O)\n      , f      = ctx(callbackfn, that, 3)\n      , length = toLength(self.length)\n      , index  = 0\n      , result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined\n      , val, res;\n    for(;length > index; index++)if(NO_HOLES || index in self){\n      val = self[index];\n      res = f(val, index, O);\n      if(TYPE){\n        if(IS_MAP)result[index] = res;            // map\n        else if(res)switch(TYPE){\n          case 3: return true;                    // some\n          case 5: return val;                     // find\n          case 6: return index;                   // findIndex\n          case 2: result.push(val);               // filter\n        } else if(IS_EVERY)return false;          // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_array-methods.js\n ** module id = 99\n ** module chunks = 0\n **/","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function(original, length){\n  return new (speciesConstructor(original))(length);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_array-species-create.js\n ** module id = 100\n ** module chunks = 0\n **/","var isObject = require('./_is-object')\r\n  , isArray  = require('./_is-array')\r\n  , SPECIES  = require('./_wks')('species');\r\n\r\nmodule.exports = function(original){\r\n  var C;\r\n  if(isArray(original)){\r\n    C = original.constructor;\r\n    // cross-realm fallback\r\n    if(typeof C == 'function' && (C === Array || isArray(C.prototype)))C = undefined;\r\n    if(isObject(C)){\r\n      C = C[SPECIES];\r\n      if(C === null)C = undefined;\r\n    }\r\n  } return C === undefined ? Array : C;\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_array-species-constructor.js\n ** module id = 101\n ** module chunks = 0\n **/","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg){\n  return cof(arg) == 'Array';\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_is-array.js\n ** module id = 102\n ** module chunks = 0\n **/","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export  = require('./_export');\n\n$export($export.P + $export.R, 'Set', {toJSON: require('./_collection-to-json')('Set')});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/es7.set.to-json.js\n ** module id = 103\n ** module chunks = 0\n **/","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof')\n  , from    = require('./_array-from-iterable');\nmodule.exports = function(NAME){\n  return function toJSON(){\n    if(classof(this) != NAME)throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_collection-to-json.js\n ** module id = 104\n ** module chunks = 0\n **/","var forOf = require('./_for-of');\n\nmodule.exports = function(iter, ITERATOR){\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_array-from-iterable.js\n ** module id = 105\n ** module chunks = 0\n **/","/* @flow */\n\nimport type { RGB, Recolor } from './types'\nimport * as Utils from './utils'\n\nexport type Buffer = {\n  el: HTMLCanvasElement,\n  context: CanvasRenderingContext2D\n};\n\nfunction bufferWidth(buffer: Buffer) {\n  return buffer.el.width\n}\n\nfunction bufferHeight(buffer: Buffer) {\n  return buffer.el.height\n}\n\nexport function setupBuffer(el: HTMLCanvasElement, width: number, height: number): Buffer {\n  el.width = width\n  el.height = height\n\n  let context = el.getContext('2d')\n  if (!(context instanceof CanvasRenderingContext2D)) {\n    throw \"Unable to get canvas context.\"\n  }\n  context.imageSmoothingEnabled = false\n\n  return {\n    el: el,\n    context: context\n  }\n}\n\nexport function createBuffer(width: number, height: number): Buffer {\n  let el = document.createElement('canvas');\n  if (!(el instanceof HTMLCanvasElement)) {\n    throw \"Unable to create buffer.\"\n  }\n  el.width  = width;\n  el.height = height;\n\n  let context = el.getContext('2d')\n  context.imageSmoothingEnabled = false\n\n  return {\n    el: el,\n    context: context\n  }\n}\n\nexport function drawBuffer(sourceBuffer: Buffer, destBuffer: Buffer) {\n  sourceBuffer.context.drawImage(destBuffer.el, 0, 0);\n}\n\nexport function drawBackground(buffer: Buffer, color: string) {\n  buffer.context.fillStyle = color\n  buffer.context.fillRect(0, 0, bufferWidth(buffer), bufferHeight(buffer))\n}\n\nexport function drawRect(\n  buffer: Buffer,\n  color: string,\n  rect: {x0:number, y0:number, x1:number, y1:number}\n) {\n  let w = rect.x1 - rect.x0\n  let h = rect.y1 - rect.y0\n\n  buffer.context.fillStyle = color\n  buffer.context.fillRect(rect.x0, bufferHeight(buffer) - rect.y0 - h, w, h)\n}\n\nvar _imageCache = {};\nfunction loadImage(source: string) {\n  if (source in _imageCache) {\n    return _imageCache[source];\n  } else {\n    let drawing = new Image();\n    drawing.src = source;\n    _imageCache[source] = drawing;\n    return drawing;\n  }\n}\n\nfunction recolorImage(image, recolor: Recolor) {\n  if (!image.complete)\n    throw \"Wat image needs to be complete\"\n\n  let w = image.width, h = image.height\n\n  let newBuffer = createBuffer(w, h)\n  newBuffer.context.drawImage(image, 0, 0, w, h);\n\n  let imageData = newBuffer.context.getImageData(0, 0, w, h);\n  for (let [oldRGB, newRGB] of Utils.zip(recolor.oldRGBs, recolor.newRGBs)) {\n    for (let i = 0; i < imageData.data.length; i += 4) {\n      // is this pixel the old rgb?\n      if(imageData.data[i] == oldRGB.r\n          && imageData.data[i+1] == oldRGB.g\n          && imageData.data[i+2] == oldRGB.b\n      ){\n        // change to your new rgb\n        imageData.data[i] = newRGB.r\n        imageData.data[i+1] = newRGB.g\n        imageData.data[i+2] = newRGB.b\n        if (newRGB.a !== undefined)\n          imageData.data[i+3] = newRGB.a\n      }\n    }\n  }\n  newBuffer.context.putImageData(imageData, 0, 0);\n  return newBuffer.el;\n}\n\nfunction loadImageWithRecolor(source: string, recolor: Recolor) {\n  let hash = source + recolor.hash\n  if (hash in _imageCache) {\n    return _imageCache[hash]\n  } else {\n    let image = loadImage(source)\n    if (!image.complete) return image\n\n    let newImage = recolorImage(image, recolor)\n    _imageCache[hash] = newImage;\n    return newImage;\n  }\n}\n\nfunction cacheAllImages(sources: Array<string>) {\n  return sources.map(loadImage)\n}\n\nexport function drawImage(\n  buffer: Buffer,\n  imageSource: string,\n  rect: {x0:number, y0:number, x1:number, y1:number},\n  opts: { flip?: boolean, opacity?: number, imageRecolor?: Recolor }\n) {\n  let w = rect.x1 - rect.x0\n  let h = rect.y1 - rect.y0\n  let x = rect.x0 + w * 0.5\n  let y = bufferHeight(buffer) - rect.y0 - h * 0.5\n\n  buffer.context.save();\n  buffer.context.translate(x, y)\n\n  if (opts.flip) buffer.context.scale(-1, 1);\n  if (opts.opacity) buffer.context.globalAlpha = opts.opacity\n\n  let image\n  if (opts.imageRecolor) image = loadImageWithRecolor(imageSource, opts.imageRecolor)\n  else image = loadImage(imageSource)\n\n  buffer.context.drawImage(image, -w / 2, -h / 2, w, h);\n  // buffer.context.drawImage(shadow, -w / 2, -h / 2, w, h);\n\n  buffer.context.restore();\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/canvas.js\n **/","/* @flow */\n\nimport { unobserveArray, observeArray, observeObject, Observer } from './observe'\n\n// borrowed from: http://stackoverflow.com/questions/14810506/map-function-for-objects-instead-of-arrays\nexport function mapObject(obj: Object, mapFunc: any): Object {\n  return Object.keys(obj).reduce(function(newObj, value) {\n      newObj[value] = mapFunc(obj[value]);\n      return newObj;\n  }, {});\n}\n\nexport function valuesArray <V> (obj: {[key: string]: V}): Array<V> {\n  return Object.keys(obj).map(function(key) {return obj[key]})\n}\n\nexport function valuesSet <V> (obj: {[key: string]: V}): Set<V> {\n  var set = new Set()\n  for (let k in obj) {\n    set.add(obj[k])\n  }\n  return set\n}\n\nexport function hasValue <V> (obj: {[key: string]: V}, v: V): boolean {\n  return valuesSet(obj).has(v)\n}\n\nexport class AutoMap<O> {\n  // I REALLY REALLY want to test this code... but I don't want to deal with\n  // setting up a testing framework right now...\n\n  /*:: map: {[key: string]: O}; */\n  /*:: hash: (o: O) => string; */\n\n  constructor(hash: (o: O) => string, objects?: Array<O>) {\n    this.map = {}\n    this.hash = hash\n    if (objects) this.observe(objects)\n  }\n  observe<OO>(objects: Array<OO & O>): void {\n    for (let obj of objects) {\n      this.add(obj)\n    }\n    observeArray(objects,\n      (o) => this.add(o),\n      (o) => this._remove(o))\n  }\n  hasKey(key: string): boolean {\n    return key in this.map\n  }\n  add(obj: O): void {\n    this.map[this.hash(obj)] = obj\n  }\n  _remove(obj: O): void {\n    delete this.map[this.hash(obj)]\n  }\n  get(id: string): O {\n    return this.map[id]\n  }\n}\n\nexport class AutoArray<O, R> {\n  /*:: observers: {[key: string]: Observer }; */\n  /*:: objects: {[key: string]: O }; */\n  /*:: results: {[key: string]: R }; */\n  /*:: processor: (o: O) => ?R; */\n  /*:: hash: (o: O) => string; */\n\n  constructor(hash: (o: O) => string, processor: (o: O) => ?R) {\n    this.observers = {}\n    this.objects = {}\n    this.results = {}\n    this.processor = processor\n    this.hash = hash\n  }\n  observe<OO>(observables: Array<OO & O>): void {\n    for (let obj of observables) {\n      this.watch(obj)\n    }\n    observeArray(\n      observables,\n      (o) => this.watch(o),\n      (o) => this.unwatch(o))\n  }\n  watch(object: O) {\n    let observer = observeObject(\n      object,\n      (o, addedKey) => this._update(o),\n      (o, removedKey) => this._update(o),\n      (o, changedKey) => {})\n\n    let h = this.hash(object)\n\n    if (h in this.observers)\n      throw \"Wat, should not be observing yet\"\n\n    this.observers[h] = observer\n    this.objects[h] = object\n    this._update(object)\n  }\n  unwatch(object: O) {\n    let h = this.hash(object)\n\n    if (!(h in this.observers))\n      throw \"Wat, we should be observing\"\n\n    unobserveArray(this.observers[h], object)\n\n    delete this.observers[h]\n    delete this.objects[h]\n    if (h in this.results)\n      delete this.results[h]\n  }\n  _update(object: O) {\n    let result = this.processor(object)\n    let h = this.hash(object)\n\n    if (result) {\n      if (h in this.results) return\n      this.results[h] = result\n    } else {\n      if (h in this.results)\n        delete this.results[h]\n    }\n  }\n  * all (): Iterable<[O, R]> {\n    for (let h in this.results) {\n      let object: O = this.objects[h]\n      let result: R = this.results[h]\n      yield [object, result]\n    }\n  }\n  * objects (): Iterable<O> {\n    for (let h in this.results) {\n      let object: O = this.objects[h]\n      yield object\n    }\n  }\n}\n\nexport class DepthArray {\n  /*:: depths: {[x: string]: number}; */\n  /*:: ordered: Array<string>; */\n\n  constructor() {\n    this.depths = {}\n    this.ordered = []\n  }\n  observe <X> (objects: Array<X>, conversion: (x:X) => string) {\n    for (let obj of objects) {\n      this.add(conversion(obj))\n    }\n    observeArray(\n      objects,\n      (x) => this.add(conversion(x)),\n      (x) => this._remove(conversion(x)))\n  }\n  add(val: string, depth?: number) {\n    if (depth === undefined) depth = Math.random()\n\n    // quit if we're already tracking this object\n    if (val in this.depths) return;\n\n    let i = 0\n    for (; i < this.ordered.length; i ++) {\n      let otherVal = this.ordered[i]\n      let otherDepth = this.depths[otherVal]\n\n      if (depth < otherDepth)\n        break\n    }\n\n    this.depths[val] = depth\n    this.ordered.splice(i, 0, val)\n  }\n  update(val: string, depth?: number) {\n    this._remove(val)\n    this.add(val, depth)\n  }\n  _remove(val: string) {\n    delete this.depths[val]\n    for (let i = 0; i < this.ordered.length; i ++) {\n      if (val === this.ordered[i]) {\n        this.ordered.splice(i, 1)\n        break\n      }\n    }\n  }\n  depth(val: string) {\n    return this.depths[val]\n  }\n  * inOrder (): Iterable<string> {\n    for (let str of this.ordered) {\n      yield str\n    }\n  }\n  * inReverseOrder (): Iterable<string> {\n    for (let i = this.ordered.length - 1; i >= 0; i --) {\n      yield this.ordered[i]\n    }\n  }\n}\n\nexport function * zip<A,B>(as: Array<A>, bs: Array<B>): Iterable<[A,B]> {\n  if (as.length != bs.length) throw \"Wat, can't zip different length arrays\"\n  for (let i = 0; i < as.length; i ++) {\n    yield [as[i], bs[i]]\n  }\n}\n\nexport function * combine<A,B>(as: Array<A>, bs: Array<B>): Iterable<A|B> {\n  for (let a of as) yield a\n  for (let b of bs) yield b\n}\n\nexport function Get(o: {}, k: string) {\n  // necessary for weird flow reasons\n  if (k in o) return o[k]\n  return undefined\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/utils.js\n **/","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/classCallCheck.js\n ** module id = 108\n ** module chunks = 0\n **/","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/createClass.js\n ** module id = 109\n ** module chunks = 0\n **/","\nrequire('array.observe')\nrequire('object.observe')\n\ntype Observer = ((changes: any) => void)\n\nexport function unobserveArray <O> (array: Array<O>, observer: Observer): Observer {\n  Object.unobserve(oo[0], oo[1])\n}\n\nexport function observeArray <O> (\n  objects: Array<O>,\n  onAdd: (obj: O) => void,\n  onRemove: (obj: O) => void\n): Observer {\n  let observer = (changes) => {\n    for (let change of changes) {\n      if (change.type === 'splice') {\n        for (let removed of change.removed) {\n          onRemove(removed)\n        }\n        for (let i = 0; i < change.addedCount; i ++) {\n          onAdd(objects[change.index + i])\n        }\n      }\n    }\n  }\n  Array.observe(objects, observer)\n  return observer\n}\n\nexport function observeObject <O> (\n  object: O,\n  onKeyAdded: (obj: O, key: string) => void,\n  onKeyRemoved: (obj: O, key: string) => void,\n  onKeyChanged: (obj: O, key: string) => void\n): Observer {\n  let observer = (changes) => {\n    for (let change of changes) {\n      if (change.type === 'add') {\n        onKeyAdded(object, change.name)\n      }\n      if (change.type === 'update') {\n        onKeyChanged(object, change.name)\n      }\n      if (change.type === 'delete') {\n        onKeyRemoved(object, change.name)\n      }\n    }\n  }\n  Object.observe(object, observer)\n  return observer\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/observe.js\n **/","Object.observe && !Array.observe && (function(O, A) {\r\n\"use strict\";\r\n\r\nvar notifier = O.getNotifier,\r\n    perform = \"performChange\",\r\n    original = \"_original\",\r\n    type = \"splice\";\r\n\r\nvar wrappers = {\r\n    push: function push(item) {\r\n        var args = arguments,\r\n            ret = push[original].apply(this, args);\r\n\r\n        notifier(this)[perform](type, function() {\r\n            return {\r\n                index: ret - args.length,\r\n                addedCount: args.length,\r\n                removed: []\r\n            };\r\n        });\r\n\r\n        return ret;\r\n    },\r\n    unshift: function unshift(item) {\r\n        var args = arguments,\r\n            ret = unshift[original].apply(this, args);\r\n\r\n        notifier(this)[perform](type, function() {\r\n            return {\r\n                index: 0,\r\n                addedCount: args.length,\r\n                removed: []\r\n            };\r\n        });\r\n\r\n        return ret;\r\n    },\r\n    pop: function pop() {\r\n        var len = this.length,\r\n            item = pop[original].call(this);\r\n\r\n        if (this.length !== len)\r\n            notifier(this)[perform](type, function() {\r\n                return {\r\n                    index: this.length,\r\n                    addedCount: 0,\r\n                    removed: [ item ]\r\n                };\r\n            }, this);\r\n\r\n        return item;\r\n    },\r\n    shift: function shift() {\r\n        var len = this.length,\r\n            item = shift[original].call(this);\r\n\r\n        if (this.length !== len)\r\n            notifier(this)[perform](type, function() {\r\n                return {\r\n                    index: 0,\r\n                    addedCount: 0,\r\n                    removed: [ item ]\r\n                };\r\n            }, this);\r\n\r\n        return item;\r\n    },\r\n    splice: function splice(start, deleteCount) {\r\n        var args = arguments,\r\n            removed = splice[original].apply(this, args);\r\n\r\n        if (removed.length || args.length > 2)\r\n            notifier(this)[perform](type, function() {\r\n                return {\r\n                    index: start,\r\n                    addedCount: args.length - 2,\r\n                    removed: removed\r\n                };\r\n            }, this);\r\n\r\n        return removed;\r\n    }\r\n};\r\n\r\nfor (var wrapper in wrappers) {\r\n    wrappers[wrapper][original] = A.prototype[wrapper];\r\n    A.prototype[wrapper] = wrappers[wrapper];\r\n}\r\n\r\nA.observe = function(object, handler) {\r\n    return O.observe(object, handler, [ \"add\", \"update\", \"delete\", type ]);\r\n};\r\nA.unobserve = O.unobserve;\r\n\r\n})(Object, Array);\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/array.observe/array-observe.js\n ** module id = 111\n ** module chunks = 0\n **/","/*!\r\n * Object.observe polyfill - v0.2.4\r\n * by Massimo Artizzu (MaxArt2501)\r\n *\r\n * https://github.com/MaxArt2501/object-observe\r\n *\r\n * Licensed under the MIT License\r\n * See LICENSE for details\r\n */\r\n\r\n// Some type definitions\r\n/**\r\n * This represents the data relative to an observed object\r\n * @typedef  {Object}                     ObjectData\r\n * @property {Map<Handler, HandlerData>}  handlers\r\n * @property {String[]}                   properties\r\n * @property {*[]}                        values\r\n * @property {Descriptor[]}               descriptors\r\n * @property {Notifier}                   notifier\r\n * @property {Boolean}                    frozen\r\n * @property {Boolean}                    extensible\r\n * @property {Object}                     proto\r\n */\r\n/**\r\n * Function definition of a handler\r\n * @callback Handler\r\n * @param {ChangeRecord[]}                changes\r\n*/\r\n/**\r\n * This represents the data relative to an observed object and one of its\r\n * handlers\r\n * @typedef  {Object}                     HandlerData\r\n * @property {Map<Object, ObservedData>}  observed\r\n * @property {ChangeRecord[]}             changeRecords\r\n */\r\n/**\r\n * @typedef  {Object}                     ObservedData\r\n * @property {String[]}                   acceptList\r\n * @property {ObjectData}                 data\r\n*/\r\n/**\r\n * Type definition for a change. Any other property can be added using\r\n * the notify() or performChange() methods of the notifier.\r\n * @typedef  {Object}                     ChangeRecord\r\n * @property {String}                     type\r\n * @property {Object}                     object\r\n * @property {String}                     [name]\r\n * @property {*}                          [oldValue]\r\n * @property {Number}                     [index]\r\n */\r\n/**\r\n * Type definition for a notifier (what Object.getNotifier returns)\r\n * @typedef  {Object}                     Notifier\r\n * @property {Function}                   notify\r\n * @property {Function}                   performChange\r\n */\r\n/**\r\n * Function called with Notifier.performChange. It may optionally return a\r\n * ChangeRecord that gets automatically notified, but `type` and `object`\r\n * properties are overridden.\r\n * @callback Performer\r\n * @returns {ChangeRecord|undefined}\r\n */\r\n\r\nObject.observe || (function(O, A, root, _undefined) {\r\n    \"use strict\";\r\n\r\n        /**\r\n         * Relates observed objects and their data\r\n         * @type {Map<Object, ObjectData}\r\n         */\r\n    var observed,\r\n        /**\r\n         * List of handlers and their data\r\n         * @type {Map<Handler, Map<Object, HandlerData>>}\r\n         */\r\n        handlers,\r\n\r\n        defaultAcceptList = [ \"add\", \"update\", \"delete\", \"reconfigure\", \"setPrototype\", \"preventExtensions\" ];\r\n\r\n    // Functions for internal usage\r\n\r\n        /**\r\n         * Checks if the argument is an Array object. Polyfills Array.isArray.\r\n         * @function isArray\r\n         * @param {?*} object\r\n         * @returns {Boolean}\r\n         */\r\n    var isArray = A.isArray || (function(toString) {\r\n            return function (object) { return toString.call(object) === \"[object Array]\"; };\r\n        })(O.prototype.toString),\r\n\r\n        /**\r\n         * Returns the index of an item in a collection, or -1 if not found.\r\n         * Uses the generic Array.indexOf or Array.prototype.indexOf if available.\r\n         * @function inArray\r\n         * @param {Array} array\r\n         * @param {*} pivot           Item to look for\r\n         * @param {Number} [start=0]  Index to start from\r\n         * @returns {Number}\r\n         */\r\n        inArray = A.prototype.indexOf ? A.indexOf || function(array, pivot, start) {\r\n            return A.prototype.indexOf.call(array, pivot, start);\r\n        } : function(array, pivot, start) {\r\n            for (var i = start || 0; i < array.length; i++)\r\n                if (array[i] === pivot)\r\n                    return i;\r\n            return -1;\r\n        },\r\n\r\n        /**\r\n         * Returns an instance of Map, or a Map-like object is Map is not\r\n         * supported or doesn't support forEach()\r\n         * @function createMap\r\n         * @returns {Map}\r\n         */\r\n        createMap = root.Map === _undefined || !Map.prototype.forEach ? function() {\r\n            // Lightweight shim of Map. Lacks clear(), entries(), keys() and\r\n            // values() (the last 3 not supported by IE11, so can't use them),\r\n            // it doesn't handle the constructor's argument (like IE11) and of\r\n            // course it doesn't support for...of.\r\n            // Chrome 31-35 and Firefox 13-24 have a basic support of Map, but\r\n            // they lack forEach(), so their native implementation is bad for\r\n            // this polyfill. (Chrome 36+ supports Object.observe.)\r\n            var keys = [], values = [];\r\n\r\n            return {\r\n                size: 0,\r\n                has: function(key) { return inArray(keys, key) > -1; },\r\n                get: function(key) { return values[inArray(keys, key)]; },\r\n                set: function(key, value) {\r\n                    var i = inArray(keys, key);\r\n                    if (i === -1) {\r\n                        keys.push(key);\r\n                        values.push(value);\r\n                        this.size++;\r\n                    } else values[i] = value;\r\n                },\r\n                \"delete\": function(key) {\r\n                    var i = inArray(keys, key);\r\n                    if (i > -1) {\r\n                        keys.splice(i, 1);\r\n                        values.splice(i, 1);\r\n                        this.size--;\r\n                    }\r\n                },\r\n                forEach: function(callback/*, thisObj*/) {\r\n                    for (var i = 0; i < keys.length; i++)\r\n                        callback.call(arguments[1], values[i], keys[i], this);\r\n                }\r\n            };\r\n        } : function() { return new Map(); },\r\n\r\n        /**\r\n         * Simple shim for Object.getOwnPropertyNames when is not available\r\n         * Misses checks on object, don't use as a replacement of Object.keys/getOwnPropertyNames\r\n         * @function getProps\r\n         * @param {Object} object\r\n         * @returns {String[]}\r\n         */\r\n        getProps = O.getOwnPropertyNames ? (function() {\r\n            var func = O.getOwnPropertyNames;\r\n            try {\r\n                arguments.callee;\r\n            } catch (e) {\r\n                // Strict mode is supported\r\n\r\n                // In strict mode, we can't access to \"arguments\", \"caller\" and\r\n                // \"callee\" properties of functions. Object.getOwnPropertyNames\r\n                // returns [ \"prototype\", \"length\", \"name\" ] in Firefox; it returns\r\n                // \"caller\" and \"arguments\" too in Chrome and in Internet\r\n                // Explorer, so those values must be filtered.\r\n                var avoid = (func(inArray).join(\" \") + \" \").replace(/prototype |length |name /g, \"\").slice(0, -1).split(\" \");\r\n                if (avoid.length) func = function(object) {\r\n                    var props = O.getOwnPropertyNames(object);\r\n                    if (typeof object === \"function\")\r\n                        for (var i = 0, j; i < avoid.length;)\r\n                            if ((j = inArray(props, avoid[i++])) > -1)\r\n                                props.splice(j, 1);\r\n\r\n                    return props;\r\n                };\r\n            }\r\n            return func;\r\n        })() : function(object) {\r\n            // Poor-mouth version with for...in (IE8-)\r\n            var props = [], prop, hop;\r\n            if (\"hasOwnProperty\" in object) {\r\n                for (prop in object)\r\n                    if (object.hasOwnProperty(prop))\r\n                        props.push(prop);\r\n            } else {\r\n                hop = O.hasOwnProperty;\r\n                for (prop in object)\r\n                    if (hop.call(object, prop))\r\n                        props.push(prop);\r\n            }\r\n\r\n            // Inserting a common non-enumerable property of arrays\r\n            if (isArray(object))\r\n                props.push(\"length\");\r\n\r\n            return props;\r\n        },\r\n\r\n        /**\r\n         * Return the prototype of the object... if defined.\r\n         * @function getPrototype\r\n         * @param {Object} object\r\n         * @returns {Object}\r\n         */\r\n        getPrototype = O.getPrototypeOf,\r\n\r\n        /**\r\n         * Return the descriptor of the object... if defined.\r\n         * IE8 supports a (useless) Object.getOwnPropertyDescriptor for DOM\r\n         * nodes only, so defineProperties is checked instead.\r\n         * @function getDescriptor\r\n         * @param {Object} object\r\n         * @param {String} property\r\n         * @returns {Descriptor}\r\n         */\r\n        getDescriptor = O.defineProperties && O.getOwnPropertyDescriptor,\r\n\r\n        /**\r\n         * Sets up the next check and delivering iteration, using\r\n         * requestAnimationFrame or a (close) polyfill.\r\n         * @function nextFrame\r\n         * @param {function} func\r\n         * @returns {number}\r\n         */\r\n        nextFrame = root.requestAnimationFrame || root.webkitRequestAnimationFrame || (function() {\r\n            var initial = +new Date,\r\n                last = initial;\r\n            return function(func) {\r\n                return setTimeout(function() {\r\n                    func((last = +new Date) - initial);\r\n                }, 17);\r\n            };\r\n        })(),\r\n\r\n        /**\r\n         * Sets up the observation of an object\r\n         * @function doObserve\r\n         * @param {Object} object\r\n         * @param {Handler} handler\r\n         * @param {String[]} [acceptList]\r\n         */\r\n        doObserve = function(object, handler, acceptList) {\r\n            var data = observed.get(object);\r\n\r\n            if (data) {\r\n                performPropertyChecks(data, object);\r\n                setHandler(object, data, handler, acceptList);\r\n            } else {\r\n                data = createObjectData(object);\r\n                setHandler(object, data, handler, acceptList);\r\n\r\n                if (observed.size === 1)\r\n                    // Let the observation begin!\r\n                    nextFrame(runGlobalLoop);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Creates the initial data for an observed object\r\n         * @function createObjectData\r\n         * @param {Object} object\r\n         */\r\n        createObjectData = function(object, data) {\r\n            var props = getProps(object),\r\n                values = [], descs, i = 0,\r\n                data = {\r\n                    handlers: createMap(),\r\n                    frozen: O.isFrozen ? O.isFrozen(object) : false,\r\n                    extensible: O.isExtensible ? O.isExtensible(object) : true,\r\n                    proto: getPrototype && getPrototype(object),\r\n                    properties: props,\r\n                    values: values,\r\n                    notifier: retrieveNotifier(object, data)\r\n                };\r\n\r\n            if (getDescriptor) {\r\n                descs = data.descriptors = [];\r\n                while (i < props.length) {\r\n                    descs[i] = getDescriptor(object, props[i]);\r\n                    values[i] = object[props[i++]];\r\n                }\r\n            } else while (i < props.length)\r\n                values[i] = object[props[i++]];\r\n\r\n            observed.set(object, data);\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Performs basic property value change checks on an observed object\r\n         * @function performPropertyChecks\r\n         * @param {ObjectData} data\r\n         * @param {Object} object\r\n         * @param {String} [except]  Doesn't deliver the changes to the\r\n         *                           handlers that accept this type\r\n         */\r\n        performPropertyChecks = (function() {\r\n            var updateCheck = getDescriptor ? function(object, data, idx, except, descr) {\r\n                var key = data.properties[idx],\r\n                    value = object[key],\r\n                    ovalue = data.values[idx],\r\n                    odesc = data.descriptors[idx];\r\n\r\n                if (\"value\" in descr && (ovalue === value\r\n                        ? ovalue === 0 && 1/ovalue !== 1/value\r\n                        : ovalue === ovalue || value === value)) {\r\n                    addChangeRecord(object, data, {\r\n                        name: key,\r\n                        type: \"update\",\r\n                        object: object,\r\n                        oldValue: ovalue\r\n                    }, except);\r\n                    data.values[idx] = value;\r\n                }\r\n                if (odesc.configurable && (!descr.configurable\r\n                        || descr.writable !== odesc.writable\r\n                        || descr.enumerable !== odesc.enumerable\r\n                        || descr.get !== odesc.get\r\n                        || descr.set !== odesc.set)) {\r\n                    addChangeRecord(object, data, {\r\n                        name: key,\r\n                        type: \"reconfigure\",\r\n                        object: object,\r\n                        oldValue: ovalue\r\n                    }, except);\r\n                    data.descriptors[idx] = descr;\r\n                }\r\n            } : function(object, data, idx, except) {\r\n                var key = data.properties[idx],\r\n                    value = object[key],\r\n                    ovalue = data.values[idx];\r\n\r\n                if (ovalue === value ? ovalue === 0 && 1/ovalue !== 1/value\r\n                        : ovalue === ovalue || value === value) {\r\n                    addChangeRecord(object, data, {\r\n                        name: key,\r\n                        type: \"update\",\r\n                        object: object,\r\n                        oldValue: ovalue\r\n                    }, except);\r\n                    data.values[idx] = value;\r\n                }\r\n            };\r\n\r\n            // Checks if some property has been deleted\r\n            var deletionCheck = getDescriptor ? function(object, props, proplen, data, except) {\r\n                var i = props.length, descr;\r\n                while (proplen && i--) {\r\n                    if (props[i] !== null) {\r\n                        descr = getDescriptor(object, props[i]);\r\n                        proplen--;\r\n\r\n                        // If there's no descriptor, the property has really\r\n                        // been deleted; otherwise, it's been reconfigured so\r\n                        // that's not enumerable anymore\r\n                        if (descr) updateCheck(object, data, i, except, descr);\r\n                        else {\r\n                            addChangeRecord(object, data, {\r\n                                name: props[i],\r\n                                type: \"delete\",\r\n                                object: object,\r\n                                oldValue: data.values[i]\r\n                            }, except);\r\n                            data.properties.splice(i, 1);\r\n                            data.values.splice(i, 1);\r\n                            data.descriptors.splice(i, 1);\r\n                        }\r\n                    }\r\n                }\r\n            } : function(object, props, proplen, data, except) {\r\n                var i = props.length;\r\n                while (proplen && i--)\r\n                    if (props[i] !== null) {\r\n                        addChangeRecord(object, data, {\r\n                            name: props[i],\r\n                            type: \"delete\",\r\n                            object: object,\r\n                            oldValue: data.values[i]\r\n                        }, except);\r\n                        data.properties.splice(i, 1);\r\n                        data.values.splice(i, 1);\r\n                        proplen--;\r\n                    }\r\n            };\r\n\r\n            return function(data, object, except) {\r\n                if (!data.handlers.size || data.frozen) return;\r\n\r\n                var props, proplen, keys,\r\n                    values = data.values,\r\n                    descs = data.descriptors,\r\n                    i = 0, idx,\r\n                    key, value,\r\n                    proto, descr;\r\n\r\n                // If the object isn't extensible, we don't need to check for new\r\n                // or deleted properties\r\n                if (data.extensible) {\r\n\r\n                    props = data.properties.slice();\r\n                    proplen = props.length;\r\n                    keys = getProps(object);\r\n\r\n                    if (descs) {\r\n                        while (i < keys.length) {\r\n                            key = keys[i++];\r\n                            idx = inArray(props, key);\r\n                            descr = getDescriptor(object, key);\r\n\r\n                            if (idx === -1) {\r\n                                addChangeRecord(object, data, {\r\n                                    name: key,\r\n                                    type: \"add\",\r\n                                    object: object\r\n                                }, except);\r\n                                data.properties.push(key);\r\n                                values.push(object[key]);\r\n                                descs.push(descr);\r\n                            } else {\r\n                                props[idx] = null;\r\n                                proplen--;\r\n                                updateCheck(object, data, idx, except, descr);\r\n                            }\r\n                        }\r\n                        deletionCheck(object, props, proplen, data, except);\r\n\r\n                        if (!O.isExtensible(object)) {\r\n                            data.extensible = false;\r\n                            addChangeRecord(object, data, {\r\n                                type: \"preventExtensions\",\r\n                                object: object\r\n                            }, except);\r\n\r\n                            data.frozen = O.isFrozen(object);\r\n                        }\r\n                    } else {\r\n                        while (i < keys.length) {\r\n                            key = keys[i++];\r\n                            idx = inArray(props, key);\r\n                            value = object[key];\r\n\r\n                            if (idx === -1) {\r\n                                addChangeRecord(object, data, {\r\n                                    name: key,\r\n                                    type: \"add\",\r\n                                    object: object\r\n                                }, except);\r\n                                data.properties.push(key);\r\n                                values.push(value);\r\n                            } else {\r\n                                props[idx] = null;\r\n                                proplen--;\r\n                                updateCheck(object, data, idx, except);\r\n                            }\r\n                        }\r\n                        deletionCheck(object, props, proplen, data, except);\r\n                    }\r\n\r\n                } else if (!data.frozen) {\r\n\r\n                    // If the object is not extensible, but not frozen, we just have\r\n                    // to check for value changes\r\n                    for (; i < props.length; i++) {\r\n                        key = props[i];\r\n                        updateCheck(object, data, i, except, getDescriptor(object, key));\r\n                    }\r\n\r\n                    if (O.isFrozen(object))\r\n                        data.frozen = true;\r\n                }\r\n\r\n                if (getPrototype) {\r\n                    proto = getPrototype(object);\r\n                    if (proto !== data.proto) {\r\n                        addChangeRecord(object, data, {\r\n                            type: \"setPrototype\",\r\n                            name: \"__proto__\",\r\n                            object: object,\r\n                            oldValue: data.proto\r\n                        });\r\n                        data.proto = proto;\r\n                    }\r\n                }\r\n            };\r\n        })(),\r\n\r\n        /**\r\n         * Sets up the main loop for object observation and change notification\r\n         * It stops if no object is observed.\r\n         * @function runGlobalLoop\r\n         */\r\n        runGlobalLoop = function() {\r\n            if (observed.size) {\r\n                observed.forEach(performPropertyChecks);\r\n                handlers.forEach(deliverHandlerRecords);\r\n                nextFrame(runGlobalLoop);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Deliver the change records relative to a certain handler, and resets\r\n         * the record list.\r\n         * @param {HandlerData} hdata\r\n         * @param {Handler} handler\r\n         */\r\n        deliverHandlerRecords = function(hdata, handler) {\r\n            var records = hdata.changeRecords;\r\n            if (records.length) {\r\n                hdata.changeRecords = [];\r\n                handler(records);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Returns the notifier for an object - whether it's observed or not\r\n         * @function retrieveNotifier\r\n         * @param {Object} object\r\n         * @param {ObjectData} [data]\r\n         * @returns {Notifier}\r\n         */\r\n        retrieveNotifier = function(object, data) {\r\n            if (arguments.length < 2)\r\n                data = observed.get(object);\r\n\r\n            /** @type {Notifier} */\r\n            return data && data.notifier || {\r\n                /**\r\n                 * @method notify\r\n                 * @see http://arv.github.io/ecmascript-object-observe/#notifierprototype._notify\r\n                 * @memberof Notifier\r\n                 * @param {ChangeRecord} changeRecord\r\n                 */\r\n                notify: function(changeRecord) {\r\n                    changeRecord.type; // Just to check the property is there...\r\n\r\n                    // If there's no data, the object has been unobserved\r\n                    var data = observed.get(object);\r\n                    if (data) {\r\n                        var recordCopy = { object: object }, prop;\r\n                        for (prop in changeRecord)\r\n                            if (prop !== \"object\")\r\n                                recordCopy[prop] = changeRecord[prop];\r\n                        addChangeRecord(object, data, recordCopy);\r\n                    }\r\n                },\r\n\r\n                /**\r\n                 * @method performChange\r\n                 * @see http://arv.github.io/ecmascript-object-observe/#notifierprototype_.performchange\r\n                 * @memberof Notifier\r\n                 * @param {String} changeType\r\n                 * @param {Performer} func     The task performer\r\n                 * @param {*} [thisObj]        Used to set `this` when calling func\r\n                 */\r\n                performChange: function(changeType, func/*, thisObj*/) {\r\n                    if (typeof changeType !== \"string\")\r\n                        throw new TypeError(\"Invalid non-string changeType\");\r\n\r\n                    if (typeof func !== \"function\")\r\n                        throw new TypeError(\"Cannot perform non-function\");\r\n\r\n                    // If there's no data, the object has been unobserved\r\n                    var data = observed.get(object),\r\n                        prop, changeRecord,\r\n                        thisObj = arguments[2],\r\n                        result = thisObj === _undefined ? func() : func.call(thisObj);\r\n\r\n                    data && performPropertyChecks(data, object, changeType);\r\n\r\n                    // If there's no data, the object has been unobserved\r\n                    if (data && result && typeof result === \"object\") {\r\n                        changeRecord = { object: object, type: changeType };\r\n                        for (prop in result)\r\n                            if (prop !== \"object\" && prop !== \"type\")\r\n                                changeRecord[prop] = result[prop];\r\n                        addChangeRecord(object, data, changeRecord);\r\n                    }\r\n                }\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Register (or redefines) an handler in the collection for a given\r\n         * object and a given type accept list.\r\n         * @function setHandler\r\n         * @param {Object} object\r\n         * @param {ObjectData} data\r\n         * @param {Handler} handler\r\n         * @param {String[]} acceptList\r\n         */\r\n        setHandler = function(object, data, handler, acceptList) {\r\n            var hdata = handlers.get(handler);\r\n            if (!hdata)\r\n                handlers.set(handler, hdata = {\r\n                    observed: createMap(),\r\n                    changeRecords: []\r\n                });\r\n            hdata.observed.set(object, {\r\n                acceptList: acceptList.slice(),\r\n                data: data\r\n            });\r\n            data.handlers.set(handler, hdata);\r\n        },\r\n\r\n        /**\r\n         * Adds a change record in a given ObjectData\r\n         * @function addChangeRecord\r\n         * @param {Object} object\r\n         * @param {ObjectData} data\r\n         * @param {ChangeRecord} changeRecord\r\n         * @param {String} [except]\r\n         */\r\n        addChangeRecord = function(object, data, changeRecord, except) {\r\n            data.handlers.forEach(function(hdata) {\r\n                var acceptList = hdata.observed.get(object).acceptList;\r\n                // If except is defined, Notifier.performChange has been\r\n                // called, with except as the type.\r\n                // All the handlers that accepts that type are skipped.\r\n                if ((typeof except !== \"string\"\r\n                        || inArray(acceptList, except) === -1)\r\n                        && inArray(acceptList, changeRecord.type) > -1)\r\n                    hdata.changeRecords.push(changeRecord);\r\n            });\r\n        };\r\n\r\n    observed = createMap();\r\n    handlers = createMap();\r\n\r\n    /**\r\n     * @function Object.observe\r\n     * @see http://arv.github.io/ecmascript-object-observe/#Object.observe\r\n     * @param {Object} object\r\n     * @param {Handler} handler\r\n     * @param {String[]} [acceptList]\r\n     * @throws {TypeError}\r\n     * @returns {Object}               The observed object\r\n     */\r\n    O.observe = function observe(object, handler, acceptList) {\r\n        if (!object || typeof object !== \"object\" && typeof object !== \"function\")\r\n            throw new TypeError(\"Object.observe cannot observe non-object\");\r\n\r\n        if (typeof handler !== \"function\")\r\n            throw new TypeError(\"Object.observe cannot deliver to non-function\");\r\n\r\n        if (O.isFrozen && O.isFrozen(handler))\r\n            throw new TypeError(\"Object.observe cannot deliver to a frozen function object\");\r\n\r\n        if (acceptList === _undefined)\r\n            acceptList = defaultAcceptList;\r\n        else if (!acceptList || typeof acceptList !== \"object\")\r\n            throw new TypeError(\"Third argument to Object.observe must be an array of strings.\");\r\n\r\n        doObserve(object, handler, acceptList);\r\n\r\n        return object;\r\n    };\r\n\r\n    /**\r\n     * @function Object.unobserve\r\n     * @see http://arv.github.io/ecmascript-object-observe/#Object.unobserve\r\n     * @param {Object} object\r\n     * @param {Handler} handler\r\n     * @throws {TypeError}\r\n     * @returns {Object}         The given object\r\n     */\r\n    O.unobserve = function unobserve(object, handler) {\r\n        if (object === null || typeof object !== \"object\" && typeof object !== \"function\")\r\n            throw new TypeError(\"Object.unobserve cannot unobserve non-object\");\r\n\r\n        if (typeof handler !== \"function\")\r\n            throw new TypeError(\"Object.unobserve cannot deliver to non-function\");\r\n\r\n        var hdata = handlers.get(handler), odata;\r\n\r\n        if (hdata && (odata = hdata.observed.get(object))) {\r\n            hdata.observed.forEach(function(odata, object) {\r\n                performPropertyChecks(odata.data, object);\r\n            });\r\n            nextFrame(function() {\r\n                deliverHandlerRecords(hdata, handler);\r\n            });\r\n\r\n            // In Firefox 13-18, size is a function, but createMap should fall\r\n            // back to the shim for those versions\r\n            if (hdata.observed.size === 1 && hdata.observed.has(object))\r\n                handlers[\"delete\"](handler);\r\n            else hdata.observed[\"delete\"](object);\r\n\r\n            if (odata.data.handlers.size === 1)\r\n                observed[\"delete\"](object);\r\n            else odata.data.handlers[\"delete\"](handler);\r\n        }\r\n\r\n        return object;\r\n    };\r\n\r\n    /**\r\n     * @function Object.getNotifier\r\n     * @see http://arv.github.io/ecmascript-object-observe/#GetNotifier\r\n     * @param {Object} object\r\n     * @throws {TypeError}\r\n     * @returns {Notifier}\r\n     */\r\n    O.getNotifier = function getNotifier(object) {\r\n        if (object === null || typeof object !== \"object\" && typeof object !== \"function\")\r\n            throw new TypeError(\"Object.getNotifier cannot getNotifier non-object\");\r\n\r\n        if (O.isFrozen && O.isFrozen(object)) return null;\r\n\r\n        return retrieveNotifier(object);\r\n    };\r\n\r\n    /**\r\n     * @function Object.deliverChangeRecords\r\n     * @see http://arv.github.io/ecmascript-object-observe/#Object.deliverChangeRecords\r\n     * @see http://arv.github.io/ecmascript-object-observe/#DeliverChangeRecords\r\n     * @param {Handler} handler\r\n     * @throws {TypeError}\r\n     */\r\n    O.deliverChangeRecords = function deliverChangeRecords(handler) {\r\n        if (typeof handler !== \"function\")\r\n            throw new TypeError(\"Object.deliverChangeRecords cannot deliver to non-function\");\r\n\r\n        var hdata = handlers.get(handler);\r\n        if (hdata) {\r\n            hdata.observed.forEach(function(odata, object) {\r\n                performPropertyChecks(odata.data, object);\r\n            });\r\n            deliverHandlerRecords(hdata, handler);\r\n        }\r\n    };\r\n\r\n})(Object, Array, this);\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/object.observe/dist/object-observe.js\n ** module id = 112\n ** module chunks = 0\n **/","/*\n * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n(function(global) {\n  'use strict';\n\n  var testingExposeCycleCount = global.testingExposeCycleCount;\n\n  // Detect and do basic sanity checking on Object/Array.observe.\n  function detectObjectObserve() {\n    if (typeof Object.observe !== 'function' ||\n        typeof Array.observe !== 'function') {\n      return false;\n    }\n\n    var records = [];\n\n    function callback(recs) {\n      records = recs;\n    }\n\n    var test = {};\n    var arr = [];\n    Object.observe(test, callback);\n    Array.observe(arr, callback);\n    test.id = 1;\n    test.id = 2;\n    delete test.id;\n    arr.push(1, 2);\n    arr.length = 0;\n\n    Object.deliverChangeRecords(callback);\n    if (records.length !== 5)\n      return false;\n\n    if (records[0].type != 'add' ||\n        records[1].type != 'update' ||\n        records[2].type != 'delete' ||\n        records[3].type != 'splice' ||\n        records[4].type != 'splice') {\n      return false;\n    }\n\n    Object.unobserve(test, callback);\n    Array.unobserve(arr, callback);\n\n    return true;\n  }\n\n  var hasObserve = detectObjectObserve();\n\n  function detectEval() {\n    // Don't test for eval if we're running in a Chrome App environment.\n    // We check for APIs set that only exist in a Chrome App context.\n    if (typeof chrome !== 'undefined' && chrome.app && chrome.app.runtime) {\n      return false;\n    }\n\n    // Firefox OS Apps do not allow eval. This feature detection is very hacky\n    // but even if some other platform adds support for this function this code\n    // will continue to work.\n    if (typeof navigator != 'undefined' && navigator.getDeviceStorage) {\n      return false;\n    }\n\n    try {\n      var f = new Function('', 'return true;');\n      return f();\n    } catch (ex) {\n      return false;\n    }\n  }\n\n  var hasEval = detectEval();\n\n  function isIndex(s) {\n    return +s === s >>> 0 && s !== '';\n  }\n\n  function toNumber(s) {\n    return +s;\n  }\n\n  function isObject(obj) {\n    return obj === Object(obj);\n  }\n\n  var numberIsNaN = global.Number.isNaN || function(value) {\n    return typeof value === 'number' && global.isNaN(value);\n  };\n\n  function areSameValue(left, right) {\n    if (left === right)\n      return left !== 0 || 1 / left === 1 / right;\n    if (numberIsNaN(left) && numberIsNaN(right))\n      return true;\n\n    return left !== left && right !== right;\n  }\n\n  var createObject = ('__proto__' in {}) ?\n    function(obj) { return obj; } :\n    function(obj) {\n      var proto = obj.__proto__;\n      if (!proto)\n        return obj;\n      var newObject = Object.create(proto);\n      Object.getOwnPropertyNames(obj).forEach(function(name) {\n        Object.defineProperty(newObject, name,\n                             Object.getOwnPropertyDescriptor(obj, name));\n      });\n      return newObject;\n    };\n\n  var identStart = '[\\$_a-zA-Z]';\n  var identPart = '[\\$_a-zA-Z0-9]';\n  var identRegExp = new RegExp('^' + identStart + '+' + identPart + '*' + '$');\n\n  function getPathCharType(char) {\n    if (char === undefined)\n      return 'eof';\n\n    var code = char.charCodeAt(0);\n\n    switch(code) {\n      case 0x5B: // [\n      case 0x5D: // ]\n      case 0x2E: // .\n      case 0x22: // \"\n      case 0x27: // '\n      case 0x30: // 0\n        return char;\n\n      case 0x5F: // _\n      case 0x24: // $\n        return 'ident';\n\n      case 0x20: // Space\n      case 0x09: // Tab\n      case 0x0A: // Newline\n      case 0x0D: // Return\n      case 0xA0:  // No-break space\n      case 0xFEFF:  // Byte Order Mark\n      case 0x2028:  // Line Separator\n      case 0x2029:  // Paragraph Separator\n        return 'ws';\n    }\n\n    // a-z, A-Z\n    if ((0x61 <= code && code <= 0x7A) || (0x41 <= code && code <= 0x5A))\n      return 'ident';\n\n    // 1-9\n    if (0x31 <= code && code <= 0x39)\n      return 'number';\n\n    return 'else';\n  }\n\n  var pathStateMachine = {\n    'beforePath': {\n      'ws': ['beforePath'],\n      'ident': ['inIdent', 'append'],\n      '[': ['beforeElement'],\n      'eof': ['afterPath']\n    },\n\n    'inPath': {\n      'ws': ['inPath'],\n      '.': ['beforeIdent'],\n      '[': ['beforeElement'],\n      'eof': ['afterPath']\n    },\n\n    'beforeIdent': {\n      'ws': ['beforeIdent'],\n      'ident': ['inIdent', 'append']\n    },\n\n    'inIdent': {\n      'ident': ['inIdent', 'append'],\n      '0': ['inIdent', 'append'],\n      'number': ['inIdent', 'append'],\n      'ws': ['inPath', 'push'],\n      '.': ['beforeIdent', 'push'],\n      '[': ['beforeElement', 'push'],\n      'eof': ['afterPath', 'push']\n    },\n\n    'beforeElement': {\n      'ws': ['beforeElement'],\n      '0': ['afterZero', 'append'],\n      'number': ['inIndex', 'append'],\n      \"'\": ['inSingleQuote', 'append', ''],\n      '\"': ['inDoubleQuote', 'append', '']\n    },\n\n    'afterZero': {\n      'ws': ['afterElement', 'push'],\n      ']': ['inPath', 'push']\n    },\n\n    'inIndex': {\n      '0': ['inIndex', 'append'],\n      'number': ['inIndex', 'append'],\n      'ws': ['afterElement'],\n      ']': ['inPath', 'push']\n    },\n\n    'inSingleQuote': {\n      \"'\": ['afterElement'],\n      'eof': ['error'],\n      'else': ['inSingleQuote', 'append']\n    },\n\n    'inDoubleQuote': {\n      '\"': ['afterElement'],\n      'eof': ['error'],\n      'else': ['inDoubleQuote', 'append']\n    },\n\n    'afterElement': {\n      'ws': ['afterElement'],\n      ']': ['inPath', 'push']\n    }\n  };\n\n  function noop() {}\n\n  function parsePath(path) {\n    var keys = [];\n    var index = -1;\n    var c, newChar, key, type, transition, action, typeMap, mode = 'beforePath';\n\n    var actions = {\n      push: function() {\n        if (key === undefined)\n          return;\n\n        keys.push(key);\n        key = undefined;\n      },\n\n      append: function() {\n        if (key === undefined)\n          key = newChar;\n        else\n          key += newChar;\n      }\n    };\n\n    function maybeUnescapeQuote() {\n      if (index >= path.length)\n        return;\n\n      var nextChar = path[index + 1];\n      if ((mode == 'inSingleQuote' && nextChar == \"'\") ||\n          (mode == 'inDoubleQuote' && nextChar == '\"')) {\n        index++;\n        newChar = nextChar;\n        actions.append();\n        return true;\n      }\n    }\n\n    while (mode) {\n      index++;\n      c = path[index];\n\n      if (c == '\\\\' && maybeUnescapeQuote(mode))\n        continue;\n\n      type = getPathCharType(c);\n      typeMap = pathStateMachine[mode];\n      transition = typeMap[type] || typeMap['else'] || 'error';\n\n      if (transition == 'error')\n        return; // parse error;\n\n      mode = transition[0];\n      action = actions[transition[1]] || noop;\n      newChar = transition[2] === undefined ? c : transition[2];\n      action();\n\n      if (mode === 'afterPath') {\n        return keys;\n      }\n    }\n\n    return; // parse error\n  }\n\n  function isIdent(s) {\n    return identRegExp.test(s);\n  }\n\n  var constructorIsPrivate = {};\n\n  function Path(parts, privateToken) {\n    if (privateToken !== constructorIsPrivate)\n      throw Error('Use Path.get to retrieve path objects');\n\n    for (var i = 0; i < parts.length; i++) {\n      this.push(String(parts[i]));\n    }\n\n    if (hasEval && this.length) {\n      this.getValueFrom = this.compiledGetValueFromFn();\n    }\n  }\n\n  // TODO(rafaelw): Make simple LRU cache\n  var pathCache = {};\n\n  function getPath(pathString) {\n    if (pathString instanceof Path)\n      return pathString;\n\n    if (pathString == null || pathString.length == 0)\n      pathString = '';\n\n    if (typeof pathString != 'string') {\n      if (isIndex(pathString.length)) {\n        // Constructed with array-like (pre-parsed) keys\n        return new Path(pathString, constructorIsPrivate);\n      }\n\n      pathString = String(pathString);\n    }\n\n    var path = pathCache[pathString];\n    if (path)\n      return path;\n\n    var parts = parsePath(pathString);\n    if (!parts)\n      return invalidPath;\n\n    path = new Path(parts, constructorIsPrivate);\n    pathCache[pathString] = path;\n    return path;\n  }\n\n  Path.get = getPath;\n\n  function formatAccessor(key) {\n    if (isIndex(key)) {\n      return '[' + key + ']';\n    } else {\n      return '[\"' + key.replace(/\"/g, '\\\\\"') + '\"]';\n    }\n  }\n\n  Path.prototype = createObject({\n    __proto__: [],\n    valid: true,\n\n    toString: function() {\n      var pathString = '';\n      for (var i = 0; i < this.length; i++) {\n        var key = this[i];\n        if (isIdent(key)) {\n          pathString += i ? '.' + key : key;\n        } else {\n          pathString += formatAccessor(key);\n        }\n      }\n\n      return pathString;\n    },\n\n    getValueFrom: function(obj, defaultValue) {\n      for (var i = 0; i < this.length; i++) {\n        var key = this[i];\n        if (obj == null || !(key in obj))\n          return defaultValue;\n        obj = obj[key];\n      }\n      return obj;\n    },\n\n    iterateObjects: function(obj, observe) {\n      for (var i = 0; i < this.length; i++) {\n        if (i)\n          obj = obj[this[i - 1]];\n        if (!isObject(obj))\n          return;\n        observe(obj, this[i]);\n      }\n    },\n\n    compiledGetValueFromFn: function() {\n      var str = '';\n      var pathString = 'obj';\n      str += 'if (obj != null';\n      var i = 0;\n      var key;\n      for (; i < (this.length - 1); i++) {\n        key = this[i];\n        pathString += isIdent(key) ? '.' + key : formatAccessor(key);\n        str += ' &&\\n    ' + pathString + ' != null';\n      }\n\n      key = this[i];\n      var keyIsIdent = isIdent(key);\n      var keyForInOperator = keyIsIdent ? '\"' + key.replace(/\"/g, '\\\\\"') + '\"' : key;\n      str += ' &&\\n    ' + keyForInOperator + ' in ' + pathString + ')\\n';\n      pathString += keyIsIdent ? '.' + key : formatAccessor(key);\n\n      str += '  return ' + pathString + ';\\nelse\\n  return defaultValue;';\n      return new Function('obj', 'defaultValue', str);\n    },\n\n    setValueFrom: function(obj, value) {\n      if (!this.length)\n        return false;\n\n      for (var i = 0; i < this.length - 1; i++) {\n        if (!isObject(obj))\n          return false;\n        obj = obj[this[i]];\n      }\n\n      if (!isObject(obj))\n        return false;\n\n      obj[this[i]] = value;\n      return true;\n    }\n  });\n\n  var invalidPath = new Path('', constructorIsPrivate);\n  invalidPath.valid = false;\n  invalidPath.getValueFrom = invalidPath.setValueFrom = function() {};\n\n  var MAX_DIRTY_CHECK_CYCLES = 1000;\n\n  function dirtyCheck(observer) {\n    var cycles = 0;\n    while (cycles < MAX_DIRTY_CHECK_CYCLES && observer.check_()) {\n      cycles++;\n    }\n    if (testingExposeCycleCount)\n      global.dirtyCheckCycleCount = cycles;\n\n    return cycles > 0;\n  }\n\n  function objectIsEmpty(object) {\n    for (var prop in object)\n      return false;\n    return true;\n  }\n\n  function diffIsEmpty(diff) {\n    return objectIsEmpty(diff.added) &&\n           objectIsEmpty(diff.removed) &&\n           objectIsEmpty(diff.changed);\n  }\n\n  function diffObjectFromOldObject(object, oldObject) {\n    var added = {};\n    var removed = {};\n    var changed = {};\n    var prop;\n\n    for (prop in oldObject) {\n      var newValue = object[prop];\n\n      if (newValue !== undefined && newValue === oldObject[prop])\n        continue;\n\n      if (!(prop in object)) {\n        removed[prop] = undefined;\n        continue;\n      }\n\n      if (newValue !== oldObject[prop])\n        changed[prop] = newValue;\n    }\n\n    for (prop in object) {\n      if (prop in oldObject)\n        continue;\n\n      added[prop] = object[prop];\n    }\n\n    if (Array.isArray(object) && object.length !== oldObject.length)\n      changed.length = object.length;\n\n    return {\n      added: added,\n      removed: removed,\n      changed: changed\n    };\n  }\n\n  var eomTasks = [];\n  function runEOMTasks() {\n    if (!eomTasks.length)\n      return false;\n\n    for (var i = 0; i < eomTasks.length; i++) {\n      eomTasks[i]();\n    }\n    eomTasks.length = 0;\n    return true;\n  }\n\n  var runEOM = hasObserve ? (function(){\n    return function(fn) {\n      return Promise.resolve().then(fn);\n    };\n  })() :\n  (function() {\n    return function(fn) {\n      eomTasks.push(fn);\n    };\n  })();\n\n  var observedObjectCache = [];\n\n  function newObservedObject() {\n    var observer;\n    var object;\n    var discardRecords = false;\n    var first = true;\n\n    function callback(records) {\n      if (observer && observer.state_ === OPENED && !discardRecords)\n        observer.check_(records);\n    }\n\n    return {\n      open: function(obs) {\n        if (observer)\n          throw Error('ObservedObject in use');\n\n        if (!first)\n          Object.deliverChangeRecords(callback);\n\n        observer = obs;\n        first = false;\n      },\n      observe: function(obj, arrayObserve) {\n        object = obj;\n        if (arrayObserve)\n          Array.observe(object, callback);\n        else\n          Object.observe(object, callback);\n      },\n      deliver: function(discard) {\n        discardRecords = discard;\n        Object.deliverChangeRecords(callback);\n        discardRecords = false;\n      },\n      close: function() {\n        observer = undefined;\n        Object.unobserve(object, callback);\n        observedObjectCache.push(this);\n      }\n    };\n  }\n\n  /*\n   * The observedSet abstraction is a perf optimization which reduces the total\n   * number of Object.observe observations of a set of objects. The idea is that\n   * groups of Observers will have some object dependencies in common and this\n   * observed set ensures that each object in the transitive closure of\n   * dependencies is only observed once. The observedSet acts as a write barrier\n   * such that whenever any change comes through, all Observers are checked for\n   * changed values.\n   *\n   * Note that this optimization is explicitly moving work from setup-time to\n   * change-time.\n   *\n   * TODO(rafaelw): Implement \"garbage collection\". In order to move work off\n   * the critical path, when Observers are closed, their observed objects are\n   * not Object.unobserve(d). As a result, it's possible that if the observedSet\n   * is kept open, but some Observers have been closed, it could cause \"leaks\"\n   * (prevent otherwise collectable objects from being collected). At some\n   * point, we should implement incremental \"gc\" which keeps a list of\n   * observedSets which may need clean-up and does small amounts of cleanup on a\n   * timeout until all is clean.\n   */\n\n  function getObservedObject(observer, object, arrayObserve) {\n    var dir = observedObjectCache.pop() || newObservedObject();\n    dir.open(observer);\n    dir.observe(object, arrayObserve);\n    return dir;\n  }\n\n  var observedSetCache = [];\n\n  function newObservedSet() {\n    var observerCount = 0;\n    var observers = [];\n    var objects = [];\n    var rootObj;\n    var rootObjProps;\n\n    function observe(obj, prop) {\n      if (!obj)\n        return;\n\n      if (obj === rootObj)\n        rootObjProps[prop] = true;\n\n      if (objects.indexOf(obj) < 0) {\n        objects.push(obj);\n        Object.observe(obj, callback);\n      }\n\n      observe(Object.getPrototypeOf(obj), prop);\n    }\n\n    function allRootObjNonObservedProps(recs) {\n      for (var i = 0; i < recs.length; i++) {\n        var rec = recs[i];\n        if (rec.object !== rootObj ||\n            rootObjProps[rec.name] ||\n            rec.type === 'setPrototype') {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    function callback(recs) {\n      if (allRootObjNonObservedProps(recs))\n        return;\n\n      var i, observer;\n      for (i = 0; i < observers.length; i++) {\n        observer = observers[i];\n        if (observer.state_ == OPENED) {\n          observer.iterateObjects_(observe);\n        }\n      }\n\n      for (i = 0; i < observers.length; i++) {\n        observer = observers[i];\n        if (observer.state_ == OPENED) {\n          observer.check_();\n        }\n      }\n    }\n\n    var record = {\n      objects: objects,\n      get rootObject() { return rootObj; },\n      set rootObject(value) {\n        rootObj = value;\n        rootObjProps = {};\n      },\n      open: function(obs, object) {\n        observers.push(obs);\n        observerCount++;\n        obs.iterateObjects_(observe);\n      },\n      close: function(obs) {\n        observerCount--;\n        if (observerCount > 0) {\n          return;\n        }\n\n        for (var i = 0; i < objects.length; i++) {\n          Object.unobserve(objects[i], callback);\n          Observer.unobservedCount++;\n        }\n\n        observers.length = 0;\n        objects.length = 0;\n        rootObj = undefined;\n        rootObjProps = undefined;\n        observedSetCache.push(this);\n        if (lastObservedSet === this)\n          lastObservedSet = null;\n      },\n    };\n\n    return record;\n  }\n\n  var lastObservedSet;\n\n  function getObservedSet(observer, obj) {\n    if (!lastObservedSet || lastObservedSet.rootObject !== obj) {\n      lastObservedSet = observedSetCache.pop() || newObservedSet();\n      lastObservedSet.rootObject = obj;\n    }\n    lastObservedSet.open(observer, obj);\n    return lastObservedSet;\n  }\n\n  var UNOPENED = 0;\n  var OPENED = 1;\n  var CLOSED = 2;\n  var RESETTING = 3;\n\n  var nextObserverId = 1;\n\n  function Observer() {\n    this.state_ = UNOPENED;\n    this.callback_ = undefined;\n    this.target_ = undefined; // TODO(rafaelw): Should be WeakRef\n    this.directObserver_ = undefined;\n    this.value_ = undefined;\n    this.id_ = nextObserverId++;\n  }\n\n  Observer.prototype = {\n    open: function(callback, target) {\n      if (this.state_ != UNOPENED)\n        throw Error('Observer has already been opened.');\n\n      addToAll(this);\n      this.callback_ = callback;\n      this.target_ = target;\n      this.connect_();\n      this.state_ = OPENED;\n      return this.value_;\n    },\n\n    close: function() {\n      if (this.state_ != OPENED)\n        return;\n\n      removeFromAll(this);\n      this.disconnect_();\n      this.value_ = undefined;\n      this.callback_ = undefined;\n      this.target_ = undefined;\n      this.state_ = CLOSED;\n    },\n\n    deliver: function() {\n      if (this.state_ != OPENED)\n        return;\n\n      dirtyCheck(this);\n    },\n\n    report_: function(changes) {\n      try {\n        this.callback_.apply(this.target_, changes);\n      } catch (ex) {\n        Observer._errorThrownDuringCallback = true;\n        console.error('Exception caught during observer callback: ' +\n                       (ex.stack || ex));\n      }\n    },\n\n    discardChanges: function() {\n      this.check_(undefined, true);\n      return this.value_;\n    }\n  };\n\n  var collectObservers = !hasObserve;\n  var allObservers;\n  Observer._allObserversCount = 0;\n\n  if (collectObservers) {\n    allObservers = [];\n  }\n\n  function addToAll(observer) {\n    Observer._allObserversCount++;\n    if (!collectObservers)\n      return;\n\n    allObservers.push(observer);\n  }\n\n  function removeFromAll(observer) {\n    Observer._allObserversCount--;\n  }\n\n  var runningMicrotaskCheckpoint = false;\n\n  global.Platform = global.Platform || {};\n\n  global.Platform.performMicrotaskCheckpoint = function() {\n    if (runningMicrotaskCheckpoint)\n      return;\n\n    if (!collectObservers)\n      return;\n\n    runningMicrotaskCheckpoint = true;\n\n    var cycles = 0;\n    var anyChanged, toCheck;\n\n    do {\n      cycles++;\n      toCheck = allObservers;\n      allObservers = [];\n      anyChanged = false;\n\n      for (var i = 0; i < toCheck.length; i++) {\n        var observer = toCheck[i];\n        if (observer.state_ != OPENED)\n          continue;\n\n        if (observer.check_())\n          anyChanged = true;\n\n        allObservers.push(observer);\n      }\n      if (runEOMTasks())\n        anyChanged = true;\n    } while (cycles < MAX_DIRTY_CHECK_CYCLES && anyChanged);\n\n    if (testingExposeCycleCount)\n      global.dirtyCheckCycleCount = cycles;\n\n    runningMicrotaskCheckpoint = false;\n  };\n\n  if (collectObservers) {\n    global.Platform.clearObservers = function() {\n      allObservers = [];\n    };\n  }\n\n  function ObjectObserver(object) {\n    Observer.call(this);\n    this.value_ = object;\n    this.oldObject_ = undefined;\n  }\n\n  ObjectObserver.prototype = createObject({\n    __proto__: Observer.prototype,\n\n    arrayObserve: false,\n\n    connect_: function(callback, target) {\n      if (hasObserve) {\n        this.directObserver_ = getObservedObject(this, this.value_,\n                                                 this.arrayObserve);\n      } else {\n        this.oldObject_ = this.copyObject(this.value_);\n      }\n\n    },\n\n    copyObject: function(object) {\n      var copy = Array.isArray(object) ? [] : {};\n      for (var prop in object) {\n        copy[prop] = object[prop];\n      }\n      if (Array.isArray(object))\n        copy.length = object.length;\n      return copy;\n    },\n\n    check_: function(changeRecords, skipChanges) {\n      var diff;\n      var oldValues;\n      if (hasObserve) {\n        if (!changeRecords)\n          return false;\n\n        oldValues = {};\n        diff = diffObjectFromChangeRecords(this.value_, changeRecords,\n                                           oldValues);\n      } else {\n        oldValues = this.oldObject_;\n        diff = diffObjectFromOldObject(this.value_, this.oldObject_);\n      }\n\n      if (diffIsEmpty(diff))\n        return false;\n\n      if (!hasObserve)\n        this.oldObject_ = this.copyObject(this.value_);\n\n      this.report_([\n        diff.added || {},\n        diff.removed || {},\n        diff.changed || {},\n        function(property) {\n          return oldValues[property];\n        }\n      ]);\n\n      return true;\n    },\n\n    disconnect_: function() {\n      if (hasObserve) {\n        this.directObserver_.close();\n        this.directObserver_ = undefined;\n      } else {\n        this.oldObject_ = undefined;\n      }\n    },\n\n    deliver: function() {\n      if (this.state_ != OPENED)\n        return;\n\n      if (hasObserve)\n        this.directObserver_.deliver(false);\n      else\n        dirtyCheck(this);\n    },\n\n    discardChanges: function() {\n      if (this.directObserver_)\n        this.directObserver_.deliver(true);\n      else\n        this.oldObject_ = this.copyObject(this.value_);\n\n      return this.value_;\n    }\n  });\n\n  function ArrayObserver(array) {\n    if (!Array.isArray(array))\n      throw Error('Provided object is not an Array');\n    ObjectObserver.call(this, array);\n  }\n\n  ArrayObserver.prototype = createObject({\n\n    __proto__: ObjectObserver.prototype,\n\n    arrayObserve: true,\n\n    copyObject: function(arr) {\n      return arr.slice();\n    },\n\n    check_: function(changeRecords) {\n      var splices;\n      if (hasObserve) {\n        if (!changeRecords)\n          return false;\n        splices = projectArraySplices(this.value_, changeRecords);\n      } else {\n        splices = calcSplices(this.value_, 0, this.value_.length,\n                              this.oldObject_, 0, this.oldObject_.length);\n      }\n\n      if (!splices || !splices.length)\n        return false;\n\n      if (!hasObserve)\n        this.oldObject_ = this.copyObject(this.value_);\n\n      this.report_([splices]);\n      return true;\n    }\n  });\n\n  ArrayObserver.applySplices = function(previous, current, splices) {\n    splices.forEach(function(splice) {\n      var spliceArgs = [splice.index, splice.removed.length];\n      var addIndex = splice.index;\n      while (addIndex < splice.index + splice.addedCount) {\n        spliceArgs.push(current[addIndex]);\n        addIndex++;\n      }\n\n      Array.prototype.splice.apply(previous, spliceArgs);\n    });\n  };\n\n  function PathObserver(object, path, defaultValue) {\n    Observer.call(this);\n\n    this.object_ = object;\n    this.path_ = getPath(path);\n    this.defaultValue_ = defaultValue;\n    this.directObserver_ = undefined;\n  }\n\n  PathObserver.prototype = createObject({\n    __proto__: Observer.prototype,\n\n    get path() {\n      return this.path_;\n    },\n\n    connect_: function() {\n      if (hasObserve)\n        this.directObserver_ = getObservedSet(this, this.object_);\n\n      this.check_(undefined, true);\n    },\n\n    disconnect_: function() {\n      this.value_ = undefined;\n\n      if (this.directObserver_) {\n        this.directObserver_.close(this);\n        this.directObserver_ = undefined;\n      }\n    },\n\n    iterateObjects_: function(observe) {\n      this.path_.iterateObjects(this.object_, observe);\n    },\n\n    check_: function(changeRecords, skipChanges) {\n      var oldValue = this.value_;\n      this.value_ = this.path_.getValueFrom(this.object_, this.defaultValue_);\n      if (skipChanges || areSameValue(this.value_, oldValue))\n        return false;\n\n      this.report_([this.value_, oldValue, this]);\n      return true;\n    },\n\n    setValue: function(newValue) {\n      if (this.path_)\n        this.path_.setValueFrom(this.object_, newValue);\n    }\n  });\n\n  function CompoundObserver(reportChangesOnOpen) {\n    Observer.call(this);\n\n    this.reportChangesOnOpen_ = reportChangesOnOpen;\n    this.value_ = [];\n    this.directObserver_ = undefined;\n    this.observed_ = [];\n  }\n\n  var observerSentinel = {};\n\n  CompoundObserver.prototype = createObject({\n    __proto__: Observer.prototype,\n\n    connect_: function() {\n      if (hasObserve) {\n        var object;\n        var needsDirectObserver = false;\n        for (var i = 0; i < this.observed_.length; i += 2) {\n          object = this.observed_[i];\n          if (object !== observerSentinel) {\n            needsDirectObserver = true;\n            break;\n          }\n        }\n\n        if (needsDirectObserver)\n          this.directObserver_ = getObservedSet(this, object);\n      }\n\n      this.check_(undefined, !this.reportChangesOnOpen_);\n    },\n\n    disconnect_: function() {\n      for (var i = 0; i < this.observed_.length; i += 2) {\n        if (this.observed_[i] === observerSentinel)\n          this.observed_[i + 1].close();\n      }\n      this.observed_.length = 0;\n      this.value_.length = 0;\n\n      if (this.directObserver_) {\n        this.directObserver_.close(this);\n        this.directObserver_ = undefined;\n      }\n    },\n\n    addPath: function(object, path) {\n      if (this.state_ != UNOPENED && this.state_ != RESETTING)\n        throw Error('Cannot add paths once started.');\n\n      path = getPath(path);\n      this.observed_.push(object, path);\n      if (!this.reportChangesOnOpen_)\n        return;\n      var index = this.observed_.length / 2 - 1;\n      this.value_[index] = path.getValueFrom(object);\n    },\n\n    addObserver: function(observer) {\n      if (this.state_ != UNOPENED && this.state_ != RESETTING)\n        throw Error('Cannot add observers once started.');\n\n      this.observed_.push(observerSentinel, observer);\n      if (!this.reportChangesOnOpen_)\n        return;\n      var index = this.observed_.length / 2 - 1;\n      this.value_[index] = observer.open(this.deliver, this);\n    },\n\n    startReset: function() {\n      if (this.state_ != OPENED)\n        throw Error('Can only reset while open');\n\n      this.state_ = RESETTING;\n      this.disconnect_();\n    },\n\n    finishReset: function() {\n      if (this.state_ != RESETTING)\n        throw Error('Can only finishReset after startReset');\n      this.state_ = OPENED;\n      this.connect_();\n\n      return this.value_;\n    },\n\n    iterateObjects_: function(observe) {\n      var object;\n      for (var i = 0; i < this.observed_.length; i += 2) {\n        object = this.observed_[i];\n        if (object !== observerSentinel)\n          this.observed_[i + 1].iterateObjects(object, observe);\n      }\n    },\n\n    check_: function(changeRecords, skipChanges) {\n      var oldValues;\n      for (var i = 0; i < this.observed_.length; i += 2) {\n        var object = this.observed_[i];\n        var path = this.observed_[i+1];\n        var value;\n        if (object === observerSentinel) {\n          var observable = path;\n          value = this.state_ === UNOPENED ?\n              observable.open(this.deliver, this) :\n              observable.discardChanges();\n        } else {\n          value = path.getValueFrom(object);\n        }\n\n        if (skipChanges) {\n          this.value_[i / 2] = value;\n          continue;\n        }\n\n        if (areSameValue(value, this.value_[i / 2]))\n          continue;\n\n        oldValues = oldValues || [];\n        oldValues[i / 2] = this.value_[i / 2];\n        this.value_[i / 2] = value;\n      }\n\n      if (!oldValues)\n        return false;\n\n      // TODO(rafaelw): Having observed_ as the third callback arg here is\n      // pretty lame API. Fix.\n      this.report_([this.value_, oldValues, this.observed_]);\n      return true;\n    }\n  });\n\n  function identFn(value) { return value; }\n\n  function ObserverTransform(observable, getValueFn, setValueFn,\n                             dontPassThroughSet) {\n    this.callback_ = undefined;\n    this.target_ = undefined;\n    this.value_ = undefined;\n    this.observable_ = observable;\n    this.getValueFn_ = getValueFn || identFn;\n    this.setValueFn_ = setValueFn || identFn;\n    // TODO(rafaelw): This is a temporary hack. PolymerExpressions needs this\n    // at the moment because of a bug in it's dependency tracking.\n    this.dontPassThroughSet_ = dontPassThroughSet;\n  }\n\n  ObserverTransform.prototype = {\n    open: function(callback, target) {\n      this.callback_ = callback;\n      this.target_ = target;\n      this.value_ =\n          this.getValueFn_(this.observable_.open(this.observedCallback_, this));\n      return this.value_;\n    },\n\n    observedCallback_: function(value) {\n      value = this.getValueFn_(value);\n      if (areSameValue(value, this.value_))\n        return;\n      var oldValue = this.value_;\n      this.value_ = value;\n      this.callback_.call(this.target_, this.value_, oldValue);\n    },\n\n    discardChanges: function() {\n      this.value_ = this.getValueFn_(this.observable_.discardChanges());\n      return this.value_;\n    },\n\n    deliver: function() {\n      return this.observable_.deliver();\n    },\n\n    setValue: function(value) {\n      value = this.setValueFn_(value);\n      if (!this.dontPassThroughSet_ && this.observable_.setValue)\n        return this.observable_.setValue(value);\n    },\n\n    close: function() {\n      if (this.observable_)\n        this.observable_.close();\n      this.callback_ = undefined;\n      this.target_ = undefined;\n      this.observable_ = undefined;\n      this.value_ = undefined;\n      this.getValueFn_ = undefined;\n      this.setValueFn_ = undefined;\n    }\n  };\n\n  var expectedRecordTypes = {\n    add: true,\n    update: true,\n    delete: true\n  };\n\n  function diffObjectFromChangeRecords(object, changeRecords, oldValues) {\n    var added = {};\n    var removed = {};\n\n    for (var i = 0; i < changeRecords.length; i++) {\n      var record = changeRecords[i];\n      if (!expectedRecordTypes[record.type]) {\n        console.error('Unknown changeRecord type: ' + record.type);\n        console.error(record);\n        continue;\n      }\n\n      if (!(record.name in oldValues))\n        oldValues[record.name] = record.oldValue;\n\n      if (record.type == 'update')\n        continue;\n\n      if (record.type == 'add') {\n        if (record.name in removed)\n          delete removed[record.name];\n        else\n          added[record.name] = true;\n\n        continue;\n      }\n\n      // type = 'delete'\n      if (record.name in added) {\n        delete added[record.name];\n        delete oldValues[record.name];\n      } else {\n        removed[record.name] = true;\n      }\n    }\n\n    var prop;\n    for (prop in added)\n      added[prop] = object[prop];\n\n    for (prop in removed)\n      removed[prop] = undefined;\n\n    var changed = {};\n    for (prop in oldValues) {\n      if (prop in added || prop in removed)\n        continue;\n\n      var newValue = object[prop];\n      if (oldValues[prop] !== newValue)\n        changed[prop] = newValue;\n    }\n\n    return {\n      added: added,\n      removed: removed,\n      changed: changed\n    };\n  }\n\n  function newSplice(index, removed, addedCount) {\n    return {\n      index: index,\n      removed: removed,\n      addedCount: addedCount\n    };\n  }\n\n  var EDIT_LEAVE = 0;\n  var EDIT_UPDATE = 1;\n  var EDIT_ADD = 2;\n  var EDIT_DELETE = 3;\n\n  function ArraySplice() {}\n\n  ArraySplice.prototype = {\n\n    // Note: This function is *based* on the computation of the Levenshtein\n    // \"edit\" distance. The one change is that \"updates\" are treated as two\n    // edits - not one. With Array splices, an update is really a delete\n    // followed by an add. By retaining this, we optimize for \"keeping\" the\n    // maximum array items in the original array. For example:\n    //\n    //   'xxxx123' -> '123yyyy'\n    //\n    // With 1-edit updates, the shortest path would be just to update all seven\n    // characters. With 2-edit updates, we delete 4, leave 3, and add 4. This\n    // leaves the substring '123' intact.\n    calcEditDistances: function(current, currentStart, currentEnd,\n                                old, oldStart, oldEnd) {\n      // \"Deletion\" columns\n      var rowCount = oldEnd - oldStart + 1;\n      var columnCount = currentEnd - currentStart + 1;\n      var distances = new Array(rowCount);\n\n      var i, j;\n\n      // \"Addition\" rows. Initialize null column.\n      for (i = 0; i < rowCount; i++) {\n        distances[i] = new Array(columnCount);\n        distances[i][0] = i;\n      }\n\n      // Initialize null row\n      for (j = 0; j < columnCount; j++)\n        distances[0][j] = j;\n\n      for (i = 1; i < rowCount; i++) {\n        for (j = 1; j < columnCount; j++) {\n          if (this.equals(current[currentStart + j - 1], old[oldStart + i - 1]))\n            distances[i][j] = distances[i - 1][j - 1];\n          else {\n            var north = distances[i - 1][j] + 1;\n            var west = distances[i][j - 1] + 1;\n            distances[i][j] = north < west ? north : west;\n          }\n        }\n      }\n\n      return distances;\n    },\n\n    // This starts at the final weight, and walks \"backward\" by finding\n    // the minimum previous weight recursively until the origin of the weight\n    // matrix.\n    spliceOperationsFromEditDistances: function(distances) {\n      var i = distances.length - 1;\n      var j = distances[0].length - 1;\n      var current = distances[i][j];\n      var edits = [];\n      while (i > 0 || j > 0) {\n        if (i == 0) {\n          edits.push(EDIT_ADD);\n          j--;\n          continue;\n        }\n        if (j == 0) {\n          edits.push(EDIT_DELETE);\n          i--;\n          continue;\n        }\n        var northWest = distances[i - 1][j - 1];\n        var west = distances[i - 1][j];\n        var north = distances[i][j - 1];\n\n        var min;\n        if (west < north)\n          min = west < northWest ? west : northWest;\n        else\n          min = north < northWest ? north : northWest;\n\n        if (min == northWest) {\n          if (northWest == current) {\n            edits.push(EDIT_LEAVE);\n          } else {\n            edits.push(EDIT_UPDATE);\n            current = northWest;\n          }\n          i--;\n          j--;\n        } else if (min == west) {\n          edits.push(EDIT_DELETE);\n          i--;\n          current = west;\n        } else {\n          edits.push(EDIT_ADD);\n          j--;\n          current = north;\n        }\n      }\n\n      edits.reverse();\n      return edits;\n    },\n\n    /**\n     * Splice Projection functions:\n     *\n     * A splice map is a representation of how a previous array of items\n     * was transformed into a new array of items. Conceptually it is a list of\n     * tuples of\n     *\n     *   <index, removed, addedCount>\n     *\n     * which are kept in ascending index order of. The tuple represents that at\n     * the |index|, |removed| sequence of items were removed, and counting forward\n     * from |index|, |addedCount| items were added.\n     */\n\n    /**\n     * Lacking individual splice mutation information, the minimal set of\n     * splices can be synthesized given the previous state and final state of an\n     * array. The basic approach is to calculate the edit distance matrix and\n     * choose the shortest path through it.\n     *\n     * Complexity: O(l * p)\n     *   l: The length of the current array\n     *   p: The length of the old array\n     */\n    calcSplices: function(current, currentStart, currentEnd,\n                          old, oldStart, oldEnd) {\n      var prefixCount = 0;\n      var suffixCount = 0;\n\n      var minLength = Math.min(currentEnd - currentStart, oldEnd - oldStart);\n      if (currentStart == 0 && oldStart == 0)\n        prefixCount = this.sharedPrefix(current, old, minLength);\n\n      if (currentEnd == current.length && oldEnd == old.length)\n        suffixCount = this.sharedSuffix(current, old, minLength - prefixCount);\n\n      currentStart += prefixCount;\n      oldStart += prefixCount;\n      currentEnd -= suffixCount;\n      oldEnd -= suffixCount;\n\n      if (currentEnd - currentStart == 0 && oldEnd - oldStart == 0)\n        return [];\n\n      var splice;\n      if (currentStart == currentEnd) {\n        splice = newSplice(currentStart, [], 0);\n        while (oldStart < oldEnd)\n          splice.removed.push(old[oldStart++]);\n\n        return [ splice ];\n      } else if (oldStart == oldEnd)\n        return [ newSplice(currentStart, [], currentEnd - currentStart) ];\n\n      var ops = this.spliceOperationsFromEditDistances(\n          this.calcEditDistances(current, currentStart, currentEnd,\n                                 old, oldStart, oldEnd));\n\n      var splices = [];\n      var index = currentStart;\n      var oldIndex = oldStart;\n      for (var i = 0; i < ops.length; i++) {\n        switch(ops[i]) {\n          case EDIT_LEAVE:\n            if (splice) {\n              splices.push(splice);\n              splice = undefined;\n            }\n\n            index++;\n            oldIndex++;\n            break;\n          case EDIT_UPDATE:\n            if (!splice)\n              splice = newSplice(index, [], 0);\n\n            splice.addedCount++;\n            index++;\n\n            splice.removed.push(old[oldIndex]);\n            oldIndex++;\n            break;\n          case EDIT_ADD:\n            if (!splice)\n              splice = newSplice(index, [], 0);\n\n            splice.addedCount++;\n            index++;\n            break;\n          case EDIT_DELETE:\n            if (!splice)\n              splice = newSplice(index, [], 0);\n\n            splice.removed.push(old[oldIndex]);\n            oldIndex++;\n            break;\n        }\n      }\n\n      if (splice) {\n        splices.push(splice);\n      }\n      return splices;\n    },\n\n    sharedPrefix: function(current, old, searchLength) {\n      for (var i = 0; i < searchLength; i++)\n        if (!this.equals(current[i], old[i]))\n          return i;\n      return searchLength;\n    },\n\n    sharedSuffix: function(current, old, searchLength) {\n      var index1 = current.length;\n      var index2 = old.length;\n      var count = 0;\n      while (count < searchLength && this.equals(current[--index1], old[--index2]))\n        count++;\n\n      return count;\n    },\n\n    calculateSplices: function(current, previous) {\n      return this.calcSplices(current, 0, current.length, previous, 0,\n                              previous.length);\n    },\n\n    equals: function(currentValue, previousValue) {\n      return currentValue === previousValue;\n    }\n  };\n\n  var arraySplice = new ArraySplice();\n\n  function calcSplices(current, currentStart, currentEnd,\n                       old, oldStart, oldEnd) {\n    return arraySplice.calcSplices(current, currentStart, currentEnd,\n                                   old, oldStart, oldEnd);\n  }\n\n  function intersect(start1, end1, start2, end2) {\n    // Disjoint\n    if (end1 < start2 || end2 < start1)\n      return -1;\n\n    // Adjacent\n    if (end1 == start2 || end2 == start1)\n      return 0;\n\n    // Non-zero intersect, span1 first\n    if (start1 < start2) {\n      if (end1 < end2)\n        return end1 - start2; // Overlap\n      else\n        return end2 - start2; // Contained\n    } else {\n      // Non-zero intersect, span2 first\n      if (end2 < end1)\n        return end2 - start1; // Overlap\n      else\n        return end1 - start1; // Contained\n    }\n  }\n\n  function mergeSplice(splices, index, removed, addedCount) {\n\n    var splice = newSplice(index, removed, addedCount);\n\n    var inserted = false;\n    var insertionOffset = 0;\n\n    for (var i = 0; i < splices.length; i++) {\n      var current = splices[i];\n      current.index += insertionOffset;\n\n      if (inserted)\n        continue;\n\n      var intersectCount = intersect(splice.index,\n                                     splice.index + splice.removed.length,\n                                     current.index,\n                                     current.index + current.addedCount);\n\n      if (intersectCount >= 0) {\n        // Merge the two splices\n\n        splices.splice(i, 1);\n        i--;\n\n        insertionOffset -= current.addedCount - current.removed.length;\n\n        splice.addedCount += current.addedCount - intersectCount;\n        var deleteCount = splice.removed.length +\n                          current.removed.length - intersectCount;\n\n        if (!splice.addedCount && !deleteCount) {\n          // merged splice is a noop. discard.\n          inserted = true;\n        } else {\n          removed = current.removed;\n\n          if (splice.index < current.index) {\n            // some prefix of splice.removed is prepended to current.removed.\n            var prepend = splice.removed.slice(0, current.index - splice.index);\n            Array.prototype.push.apply(prepend, removed);\n            removed = prepend;\n          }\n\n          if (splice.index + splice.removed.length > current.index + current.addedCount) {\n            // some suffix of splice.removed is appended to current.removed.\n            var append = splice.removed.slice(current.index + current.addedCount - splice.index);\n            Array.prototype.push.apply(removed, append);\n          }\n\n          splice.removed = removed;\n          if (current.index < splice.index) {\n            splice.index = current.index;\n          }\n        }\n      } else if (splice.index < current.index) {\n        // Insert splice here.\n\n        inserted = true;\n\n        splices.splice(i, 0, splice);\n        i++;\n\n        var offset = splice.addedCount - splice.removed.length;\n        current.index += offset;\n        insertionOffset += offset;\n      }\n    }\n\n    if (!inserted)\n      splices.push(splice);\n  }\n\n  function createInitialSplices(array, changeRecords) {\n    var splices = [];\n\n    for (var i = 0; i < changeRecords.length; i++) {\n      var record = changeRecords[i];\n      switch(record.type) {\n        case 'splice':\n          mergeSplice(splices, record.index, record.removed.slice(), record.addedCount);\n          break;\n        case 'add':\n        case 'update':\n        case 'delete':\n          if (!isIndex(record.name))\n            continue;\n          var index = toNumber(record.name);\n          if (index < 0)\n            continue;\n          mergeSplice(splices, index, [record.oldValue], 1);\n          break;\n        default:\n          console.error('Unexpected record type: ' + JSON.stringify(record));\n          break;\n      }\n    }\n\n    return splices;\n  }\n\n  function projectArraySplices(array, changeRecords) {\n    var splices = [];\n\n    createInitialSplices(array, changeRecords).forEach(function(splice) {\n      if (splice.addedCount == 1 && splice.removed.length == 1) {\n        if (splice.removed[0] !== array[splice.index])\n          splices.push(splice);\n\n        return;\n      }\n\n      splices = splices.concat(calcSplices(array, splice.index, splice.index + splice.addedCount,\n                                           splice.removed, 0, splice.removed.length));\n    });\n\n    return splices;\n  }\n\n  // Export the observe-js object for **Node.js**, with backwards-compatibility\n  // for the old `require()` API. Also ensure `exports` is not a DOM Element.\n  // If we're in the browser, export as a global object.\n\n  var expose = global;\n\n  if (typeof exports !== 'undefined' && !exports.nodeType) {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports;\n    }\n    expose = exports;\n  }\n\n  expose.Observer = Observer;\n  expose.Observer.runEOM_ = runEOM;\n  expose.Observer.observerSentinel_ = observerSentinel; // for testing.\n  expose.Observer.hasObjectObserve = hasObserve;\n  expose.ArrayObserver = ArrayObserver;\n  expose.ArrayObserver.calculateSplices = function(current, previous) {\n    return arraySplice.calculateSplices(current, previous);\n  };\n\n  expose.ArraySplice = ArraySplice;\n  expose.ObjectObserver = ObjectObserver;\n  expose.PathObserver = PathObserver;\n  expose.CompoundObserver = CompoundObserver;\n  expose.Path = Path;\n  expose.ObserverTransform = ObserverTransform;\n\n})(typeof global !== 'undefined' && global && typeof module !== 'undefined' && module ? global : this || window);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/observe-js/src/observe.js\n ** module id = 113\n ** module chunks = 0\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 114\n ** module chunks = 0\n **/","/* @flow */\n\ntype Unevaled<O> = { kind: 'unevaled', eval: () => O }\ntype Evaled<O> = { kind: 'evaled', value: O }\nexport type Thunk<O> = Unevaled<O> | Evaled<O>\n\nexport function thunk<O>(fo: () => O): Thunk<O> {\n  return { kind: 'unevaled', eval: fo }\n}\nexport function partial<O>(fo: () => O): Thunk<O> {\n  return { kind: 'unevaled', eval: fo }\n}\nexport function value<O>(o: O): Thunk<O> {\n  return { kind: 'evaled', value: o }\n}\nexport function evaluate<O>(thunk: Thunk<O>): O {\n  if (thunk.kind === 'unevaled') return thunk.eval()\n  else return thunk.value\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/lazy.js\n **/","/* @flow */\n\n////////////////////////////////////////////////////////////\n// Game state types\n\nexport let CrewEnum = {\n  ENG: 'eng',\n  // SCI: 'sci',\n  SEC: 'sec'\n}\n\nexport type CrewEnumType =\n  | 'eng'\n  // | 'sci'\n  | 'sec'\n\nexport let RoomEnum = {\n  BRIDGE: 'bridge',\n  ENGINE: 'engine',\n  STORE: 'store',\n  MEDBAY: 'medbay'\n}\n\nexport type RoomEnumType =\n  | 'bridge'\n  | 'engine'\n  | 'store'\n  | 'medbay'\n\n//// Unfortunately, the current version of flow doesn't support disjoint\n//// unions that involve intersections.\n// type _Entity = {\n//   id: string,\n//   x: number,\n//   y: number,\n//   ax: number,\n//   ay: number,\n//   vx: number,\n//   vy: number,\n//   width: number,\n//   height: number,\n//   roomIndex: number\n// }\n\nexport type Player = {\n  kind: 'player',\n  // DRY, DRY, DRY\n  id: string,\n  x: number,\n  y: number,\n  ax: number,\n  ay: number,\n  vx: number,\n  vy: number,\n  width: number,\n  height: number,\n  roomIndex: number,\n\n  // required components\n  animation: CharacterAnimationComponent,\n  imager: ImagerComponent,\n  carrier: CarrierComponent,\n  interactor: InteractorComponent,\n  actor: ActorComponent,\n}\n\nexport type CrewMember = {\n  kind: 'crew',\n  type: CrewEnumType,\n  // DRY, DRY, DRY\n  id: string,\n  x: number,\n  y: number,\n  ax: number,\n  ay: number,\n  vx: number,\n  vy: number,\n  width: number,\n  height: number,\n  roomIndex: number,\n\n  // required components\n  carriable: CarriableComponent,\n  animation: CharacterAnimationComponent,\n  ai: AIComponent,\n  actor: ActorComponent,\n}\n\nexport type Alien = {\n  kind: 'alien',\n  // DRY, DRY, DRY\n  id: string,\n  x: number,\n  y: number,\n  ax: number,\n  ay: number,\n  vx: number,\n  vy: number,\n  width: number,\n  height: number,\n  roomIndex: number,\n}\n\nexport type Character = Player | CrewMember\n\nexport type Furniture = {\n  kind: 'furniture',\n  id: string,\n  type: string,\n  x: number,\n  width: number,\n  height: number,\n  foreground?: boolean,\n  roomIndex: number,\n\n  spawner?: SpawnerComponent,\n  button?: ButtonComponent,\n}\n\nexport type Room = {\n  type: RoomEnumType\n}\n\nexport type GameState = {\n  player: Player,\n  crew: Array<CrewMember>,\n  furnitures: Array<Furniture>,\n  rooms: Array<Room>\n}\n\n////////////////////////////////////////////////////////////\n// Character components\n\nexport let CharacterAnimationEnum = {\n  RUN: 'run',\n  STAND: 'stand',\n  SKID: 'skid',\n  JUMP: 'jump'\n}\n\nexport type CharacterAnimation =\n  | 'run'\n  | 'stand'\n  | 'skid'\n  | 'jump'\n\nexport let DirectionEnum = {\n  LEFT: 'left',\n  RIGHT: 'right'\n}\n\nexport type Direction =\n  | 'left'\n  | 'right'\n\nexport type AIComponent = {\n  kind: 'ai',\n  actions: Array<Action>,\n  nextThink: number\n}\n\nexport type ActorComponent = {\n  kind: 'actor',\n  actions: Set<Action>\n}\n\nexport type CharacterAnimationComponent = {\n  kind: 'animation',\n  animation: CharacterAnimation,\n  direction: Direction,\n  time: number\n}\n\nexport type ImagerComponent = {\n  kind: 'imager',\n  computeImage: (\n    dir: Direction,\n    anim: CharacterAnimation,\n    time: number\n  ) => string\n}\n\nexport type CarrierComponent = {\n  kind: 'carrier',\n  carrying?: string\n}\n\nexport type CarriableComponent = {\n  kind: 'carriable'\n}\n\nexport type InteractorComponent = {\n  kind: 'interactor'\n}\n\nexport type BeamingDownComponent = {\n  kind: 'beaming',\n  time: number\n}\n\nexport let SpawnEventEnum = {\n  SEC_TELEPORT: 'security teleporter',\n  ENG_TELEPORT: 'engineering teleporter'\n}\n\nexport type SpawnEvent =\n  | 'security teleporter'\n  | 'engineering teleporter'\n\nexport type FurnitureEvent =\n  | SpawnEvent\n\nexport type ButtonComponent = {\n  kind: 'button',\n  eventToFire: FurnitureEvent,\n  time: number, // is -1 if no presses\n  notify: string\n}\n\nexport type SpawnerComponent = {\n  kind: 'spawner',\n  events: Array<FurnitureEvent>,\n  spawn: (ev: FurnitureEvent) => Alien | CrewMember,\n  time: number // is -1 if no interactions\n}\n\n////////////////////////////////////////////////////////////\n// Intermediate types\n\nexport let ActionEnum = {\n  LEFT: 'left',\n  RIGHT: 'right',\n  SLOW_LEFT: 'slow-left',\n  SLOW_RIGHT: 'slow-right',\n  UP: 'up',\n  JUMP: 'jump',\n  ACT: 'act'\n}\n\nexport type Action = // yeah yeah, DRY :(\n  | 'left'\n  | 'right'\n  | 'up'\n  | 'jump'\n  | 'act'\n  | 'slow-left'\n  | 'slow-right'\n\n////////////////////////////////////////////////////////////\n// Rendering types\n\nexport type RGB = {\n  r:number, g:number, b:number, a?: number\n}\n\nexport type Recolor = {\n  hash: string,\n  oldRGBs: Array<RGB>,\n  newRGBs: Array<RGB>\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/types.js\n **/"],"sourceRoot":""}